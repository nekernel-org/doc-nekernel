<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeBoot: lib/ppc64/mmu.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NeBoot<span id="projectnumber">&#160;0.0.1dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mmu_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">mmu.h</div></div>
</div><!--header-->
<div class="contents">
<a href="mmu_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * PowerPC memory management structures</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> */</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#ifndef _PPC_MMU_H_</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#define _PPC_MMU_H_</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span> </div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#ifndef __ASSEMBLY__</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;<a class="code" href="boot_8h.html">lib/boot.h</a>&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span> </div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">/* Hardware Page Table Entry */</span></div>
<div class="foldopen" id="foldopen00012" data-start="{" data-end="};">
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno"><a class="line" href="struct___p_t_e.html">   12</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___p_t_e.html">_PTE</a> {</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#ifdef CONFIG_PPC64BRIDGE</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#ac9c646f44d5a310f3ac6ddd9509c4a63">vsid</a> : 52;</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>      <a class="code hl_variable" href="struct___p_t_e.html#af555329e27c18bd6774c843ef9d77883">api</a> : 5;</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___p_t_e.html#a8372f14e7e33b411216048b5236528a8">long</a> : 5;</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>      <a class="code hl_variable" href="struct___p_t_e.html#a904024784e0847ef42a912ab118cf076">h</a> : 1;</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>      <a class="code hl_variable" href="struct___p_t_e.html#a70ad49ce44082989ff1f60711ac51748">v</a> : 1;</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#a1af864ad9c7d66af85899ac195d205fe">rpn</a> : 52;</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#else                   </span><span class="comment">/* CONFIG_PPC64BRIDGE */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#a70ad49ce44082989ff1f60711ac51748">   21</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#a70ad49ce44082989ff1f60711ac51748">v</a> : 1;     <span class="comment">/* Entry is valid */</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#ac9c646f44d5a310f3ac6ddd9509c4a63">   22</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#ac9c646f44d5a310f3ac6ddd9509c4a63">vsid</a> : 24; <span class="comment">/* Virtual segment identifier */</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#a904024784e0847ef42a912ab118cf076">   23</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#a904024784e0847ef42a912ab118cf076">h</a> : 1;     <span class="comment">/* Hash algorithm indicator */</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#af555329e27c18bd6774c843ef9d77883">   24</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#af555329e27c18bd6774c843ef9d77883">api</a> : 6;   <span class="comment">/* Abbreviated page index */</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#a1af864ad9c7d66af85899ac195d205fe">   25</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#a1af864ad9c7d66af85899ac195d205fe">rpn</a> : 20;  <span class="comment">/* Real (physical) page number */</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#endif                  </span><span class="comment">/* CONFIG_PPC64BRIDGE */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#a8372f14e7e33b411216048b5236528a8">   27</a></span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___p_t_e.html#a8372f14e7e33b411216048b5236528a8">long</a> : 3;    <span class="comment">/* Unused */</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#ab05728d02334349ec34102603190da11">   28</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#ab05728d02334349ec34102603190da11">r</a> : 1;  <span class="comment">/* Referenced */</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#a879a5ebfc7fc5fd881fb7c9452f01c7d">   29</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#a879a5ebfc7fc5fd881fb7c9452f01c7d">c</a> : 1;  <span class="comment">/* Changed */</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#a800a5674fa52faa6212ea2036db3b273">   30</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#a800a5674fa52faa6212ea2036db3b273">w</a> : 1;  <span class="comment">/* Write-thru cache mode */</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#aee3b9bae06298d3ed3a8cfe25d4ec48c">   31</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#aee3b9bae06298d3ed3a8cfe25d4ec48c">i</a> : 1;  <span class="comment">/* Cache inhibited */</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#ae6d38f07c7c6c13ed717beaf870cd77c">   32</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#ae6d38f07c7c6c13ed717beaf870cd77c">m</a> : 1;  <span class="comment">/* Memory coherence */</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#a486a1585582d4f89a1af06b04c9b240a">   33</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#a486a1585582d4f89a1af06b04c9b240a">g</a> : 1;  <span class="comment">/* Guarded */</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___p_t_e.html#a8372f14e7e33b411216048b5236528a8">long</a> : 1;    <span class="comment">/* Unused */</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="struct___p_t_e.html#a54dab297f94f19da3d6ab3098789e445">   35</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p_t_e.html#a54dab297f94f19da3d6ab3098789e445">pp</a> : 2; <span class="comment">/* Page protection */</span></div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="mmu_8h.html#a82e5ec4c4ea43f3e04440a7314c41b6f">   36</a></span>} <a class="code hl_typedef" href="mmu_8h.html#a82e5ec4c4ea43f3e04440a7314c41b6f">PTE</a>;</div>
</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">/* Values for PP (assumes Ks=0, Kp=1) */</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="mmu_8h.html#a366579d4a973026f0e80a86251558428">   39</a></span><span class="preprocessor">#define PP_RWXX 0 </span><span class="comment">/* Supervisor read/write, User none */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab7871ed02792ff04afce630a59d33fba">   40</a></span><span class="preprocessor">#define PP_RWRX 1 </span><span class="comment">/* Supervisor read/write, User read */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="mmu_8h.html#af28e2e9324c9a1939aab3d0e25f193ea">   41</a></span><span class="preprocessor">#define PP_RWRW 2 </span><span class="comment">/* Supervisor read/write, User read/write */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="mmu_8h.html#a13401ef57a68f90ed73bd6c46bf2f83d">   42</a></span><span class="preprocessor">#define PP_RXRX 3 </span><span class="comment">/* Supervisor read,       User read */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span><span class="comment">/* Segment Register */</span></div>
<div class="foldopen" id="foldopen00045" data-start="{" data-end="};">
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno"><a class="line" href="struct___s_e_g_r_e_g.html">   45</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___s_e_g_r_e_g.html">_SEGREG</a> {</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="struct___s_e_g_r_e_g.html#af734ef8fb81ae34947a6b2a55e86c396">   46</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___s_e_g_r_e_g.html#af734ef8fb81ae34947a6b2a55e86c396">t</a> : 1;     <span class="comment">/* Normal or I/O  type */</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="struct___s_e_g_r_e_g.html#ad6435dc370b4b44eb928ed8c3e7fe0bd">   47</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___s_e_g_r_e_g.html#ad6435dc370b4b44eb928ed8c3e7fe0bd">ks</a> : 1;    <span class="comment">/* Supervisor &#39;key&#39; (normally 0) */</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno"><a class="line" href="struct___s_e_g_r_e_g.html#af1d5b204c96ea0f97143ddf626c26917">   48</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___s_e_g_r_e_g.html#af1d5b204c96ea0f97143ddf626c26917">kp</a> : 1;    <span class="comment">/* User &#39;key&#39; (normally 1) */</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="struct___s_e_g_r_e_g.html#ab42781af2c4994d3e717479d656a8ba2">   49</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___s_e_g_r_e_g.html#ab42781af2c4994d3e717479d656a8ba2">n</a> : 1;     <span class="comment">/* No-execute */</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="struct___s_e_g_r_e_g.html#a4ea72a324daa5d798e94101c48b8b28d">   50</a></span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___s_e_g_r_e_g.html#a4ea72a324daa5d798e94101c48b8b28d">long</a> : 4;       <span class="comment">/* Unused */</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno"><a class="line" href="struct___s_e_g_r_e_g.html#ab047bf45a598e585d6d18627f459c4ec">   51</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___s_e_g_r_e_g.html#ab047bf45a598e585d6d18627f459c4ec">vsid</a> : 24; <span class="comment">/* Virtual Segment Identifier */</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="mmu_8h.html#a116555f52e4d81be3fd00da2fe096ec0">   52</a></span>} <a class="code hl_typedef" href="mmu_8h.html#a116555f52e4d81be3fd00da2fe096ec0">SEGREG</a>;</div>
</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><span class="comment">/* Block Address Translation (BAT) Registers */</span></div>
<div class="foldopen" id="foldopen00055" data-start="{" data-end="};">
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html">   55</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___p601___b_a_t_u.html">_P601_BATU</a> { <span class="comment">/* Upper part of BAT for 601 processor */</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html#ae25a7853e6eff2f19e520eaea3aaf848">   56</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_u.html#ae25a7853e6eff2f19e520eaea3aaf848">bepi</a> : 15;  <span class="comment">/* Effective page index (virtual address) */</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html#aac5bdeda7ded5b7c6801ab2f59b23a68">   57</a></span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___p601___b_a_t_u.html#aac5bdeda7ded5b7c6801ab2f59b23a68">long</a> : 8;        <span class="comment">/* unused */</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html#a9e82d335ff0cb8282e02a50733e75305">   58</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_u.html#a9e82d335ff0cb8282e02a50733e75305">w</a> : 1;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html#a92d7e81675209dc78842cf4d0de82f9e">   59</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_u.html#a92d7e81675209dc78842cf4d0de82f9e">i</a> : 1;  <span class="comment">/* Cache inhibit */</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html#a73bd4e159fbfd37d7fc3bcde4db832f0">   60</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_u.html#a73bd4e159fbfd37d7fc3bcde4db832f0">m</a> : 1;  <span class="comment">/* Memory coherence */</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html#a7f5baa7dd0d2d1de025685764c11f10f">   61</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_u.html#a7f5baa7dd0d2d1de025685764c11f10f">ks</a> : 1; <span class="comment">/* Supervisor key (normally 0) */</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html#a403ff031f747db60ee6841fe6bc21b10">   62</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_u.html#a403ff031f747db60ee6841fe6bc21b10">kp</a> : 1; <span class="comment">/* User key (normally 1) */</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_u.html#a26ecbd83579c05631f96bbb6895c6731">   63</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_u.html#a26ecbd83579c05631f96bbb6895c6731">pp</a> : 2; <span class="comment">/* Page access protections */</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno"><a class="line" href="mmu_8h.html#aaca6a4838b1c06401fe3bafb8f7beeba">   64</a></span>} <a class="code hl_typedef" href="mmu_8h.html#aaca6a4838b1c06401fe3bafb8f7beeba">P601_BATU</a>;</div>
</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="foldopen" id="foldopen00066" data-start="{" data-end="};">
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="struct___b_a_t_u.html">   66</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___b_a_t_u.html">_BATU</a> { <span class="comment">/* Upper part of BAT (all except 601) */</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="preprocessor">#ifdef CONFIG_PPC64BRIDGE</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_u.html#a93c0de319fc1f2a42730a7c8beddcaab">bepi</a> : 47;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="preprocessor">#else                    </span><span class="comment">/* CONFIG_PPC64BRIDGE */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="struct___b_a_t_u.html#a93c0de319fc1f2a42730a7c8beddcaab">   70</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_u.html#a93c0de319fc1f2a42730a7c8beddcaab">bepi</a> : 15; <span class="comment">/* Effective page index (virtual address) */</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="preprocessor">#endif                   </span><span class="comment">/* CONFIG_PPC64BRIDGE */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="struct___b_a_t_u.html#a9dd45ef522b304e41953b493aa50db32">   72</a></span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___b_a_t_u.html#a9dd45ef522b304e41953b493aa50db32">long</a> : 4;     <span class="comment">/* Unused */</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="struct___b_a_t_u.html#a077e3c5c1eccdadda621a28207df7a47">   73</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_u.html#a077e3c5c1eccdadda621a28207df7a47">bl</a> : 11; <span class="comment">/* Block size mask */</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno"><a class="line" href="struct___b_a_t_u.html#a12491b3e4a1753fb934b7aa8f31ffd5d">   74</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_u.html#a12491b3e4a1753fb934b7aa8f31ffd5d">vs</a> : 1;  <span class="comment">/* Supervisor valid */</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="struct___b_a_t_u.html#aabdbfb50851d6e9bfc15e1594a9c3bd1">   75</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_u.html#aabdbfb50851d6e9bfc15e1594a9c3bd1">vp</a> : 1;  <span class="comment">/* User valid */</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="mmu_8h.html#ace8b394da4e7b4c937f2c894669ce8dc">   76</a></span>} <a class="code hl_typedef" href="mmu_8h.html#ace8b394da4e7b4c937f2c894669ce8dc">BATU</a>;</div>
</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="foldopen" id="foldopen00078" data-start="{" data-end="};">
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_l.html">   78</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___p601___b_a_t_l.html">_P601_BATL</a> { <span class="comment">/* Lower part of BAT for 601 processor */</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_l.html#a4c6536bd665aaafc4c9741b6e0c21b53">   79</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_l.html#a4c6536bd665aaafc4c9741b6e0c21b53">brpn</a> : 15;  <span class="comment">/* Real page index (physical address) */</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_l.html#adc57a004105b487b834a2a741a0a414b">   80</a></span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___p601___b_a_t_l.html#adc57a004105b487b834a2a741a0a414b">long</a> : 10;       <span class="comment">/* Unused */</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_l.html#aecbbd2291f962293926cb52a237ad8e4">   81</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_l.html#aecbbd2291f962293926cb52a237ad8e4">v</a> : 1;      <span class="comment">/* Valid bit */</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t_l.html#a7fe23730d249003078893784db56ea22">   82</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___p601___b_a_t_l.html#a7fe23730d249003078893784db56ea22">bl</a> : 6;     <span class="comment">/* Block size mask */</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab5d3227de2751abebfa95a87ecbf3de9">   83</a></span>} <a class="code hl_typedef" href="mmu_8h.html#ab5d3227de2751abebfa95a87ecbf3de9">P601_BATL</a>;</div>
</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span> </div>
<div class="foldopen" id="foldopen00085" data-start="{" data-end="};">
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="struct___b_a_t_l.html">   85</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___b_a_t_l.html">_BATL</a> { <span class="comment">/* Lower part of BAT (all except 601) */</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="preprocessor">#ifdef CONFIG_PPC64BRIDGE</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_l.html#a8fa3ddfe20e8221531c2aa6baae2d46f">brpn</a> : 47;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="preprocessor">#else                   </span><span class="comment">/* CONFIG_PPC64BRIDGE */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="struct___b_a_t_l.html#a8fa3ddfe20e8221531c2aa6baae2d46f">   89</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_l.html#a8fa3ddfe20e8221531c2aa6baae2d46f">brpn</a> : 15; <span class="comment">/* Real page index (physical address) */</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="preprocessor">#endif                  </span><span class="comment">/* CONFIG_PPC64BRIDGE */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno"><a class="line" href="struct___b_a_t_l.html#a4d0f05c3aabcb19e6a71a05f08f8f530">   91</a></span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___b_a_t_l.html#a4d0f05c3aabcb19e6a71a05f08f8f530">long</a> : 10;   <span class="comment">/* Unused */</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno"><a class="line" href="struct___b_a_t_l.html#a79347c20a16314a0b26017ee743065b8">   92</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_l.html#a79347c20a16314a0b26017ee743065b8">w</a> : 1;  <span class="comment">/* Write-thru cache */</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno"><a class="line" href="struct___b_a_t_l.html#aa10551686c19767e474cd713448a21b8">   93</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_l.html#aa10551686c19767e474cd713448a21b8">i</a> : 1;  <span class="comment">/* Cache inhibit */</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno"><a class="line" href="struct___b_a_t_l.html#a1192df46d382216b75b74282150e0dc5">   94</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_l.html#a1192df46d382216b75b74282150e0dc5">m</a> : 1;  <span class="comment">/* Memory coherence */</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno"><a class="line" href="struct___b_a_t_l.html#a82aeea8cd628c25714fe872c7d70c26f">   95</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_l.html#a82aeea8cd628c25714fe872c7d70c26f">g</a> : 1;  <span class="comment">/* Guarded (MBZ in IBAT) */</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>  <span class="keywordtype">unsigned</span> <a class="code hl_variable" href="struct___b_a_t_l.html#a4d0f05c3aabcb19e6a71a05f08f8f530">long</a> : 1;    <span class="comment">/* Unused */</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno"><a class="line" href="struct___b_a_t_l.html#aec7463084e8082aa661668c404f21c39">   97</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct___b_a_t_l.html#aec7463084e8082aa661668c404f21c39">pp</a> : 2; <span class="comment">/* Page access protections */</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno"><a class="line" href="mmu_8h.html#a370824a7be0b318fede6265c11de3aa6">   98</a></span>} <a class="code hl_typedef" href="mmu_8h.html#a370824a7be0b318fede6265c11de3aa6">BATL</a>;</div>
</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span> </div>
<div class="foldopen" id="foldopen00100" data-start="{" data-end="};">
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno"><a class="line" href="struct___b_a_t.html">  100</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___b_a_t.html">_BAT</a> {</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno"><a class="line" href="struct___b_a_t.html#a5d14a9e20e50285c8a5035234102d168">  101</a></span>  <a class="code hl_struct" href="struct___b_a_t_u.html">BATU</a> <a class="code hl_variable" href="struct___b_a_t.html#a5d14a9e20e50285c8a5035234102d168">batu</a>; <span class="comment">/* Upper register */</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno"><a class="line" href="struct___b_a_t.html#abb52d5a574e9699f5ce6c98ac31840d6">  102</a></span>  <a class="code hl_struct" href="struct___b_a_t_l.html">BATL</a> <a class="code hl_variable" href="struct___b_a_t.html#abb52d5a574e9699f5ce6c98ac31840d6">batl</a>; <span class="comment">/* Lower register */</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno"><a class="line" href="mmu_8h.html#aeb6f3c40f9cd71f4ceb82022b952c63b">  103</a></span>} <a class="code hl_typedef" href="mmu_8h.html#aeb6f3c40f9cd71f4ceb82022b952c63b">BAT</a>;</div>
</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="foldopen" id="foldopen00105" data-start="{" data-end="};">
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t.html">  105</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___p601___b_a_t.html">_P601_BAT</a> {</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t.html#a726250cae267e58c63237528090189cf">  106</a></span>  <a class="code hl_struct" href="struct___p601___b_a_t_u.html">P601_BATU</a> <a class="code hl_variable" href="struct___p601___b_a_t.html#a726250cae267e58c63237528090189cf">batu</a>; <span class="comment">/* Upper register */</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno"><a class="line" href="struct___p601___b_a_t.html#ad3ee49d81b0e5fdbc46db25208c23e95">  107</a></span>  <a class="code hl_struct" href="struct___p601___b_a_t_l.html">P601_BATL</a> <a class="code hl_variable" href="struct___p601___b_a_t.html#ad3ee49d81b0e5fdbc46db25208c23e95">batl</a>; <span class="comment">/* Lower register */</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="mmu_8h.html#a6573baacdb4226f6414fae33ae760b8c">  108</a></span>} <a class="code hl_typedef" href="mmu_8h.html#a6573baacdb4226f6414fae33ae760b8c">P601_BAT</a>;</div>
</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="comment">/*</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="comment"> * Simulated two-level MMU.  This structure is used by the Kernel</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="comment"> * to keep track of MMU mappings and is used to update/maintain</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><span class="comment"> * the hardware HASH table which is really a cache of mappings.</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="comment"> *</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="comment"> * The simulated structures mimic the hardware available on other</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="comment"> * platforms, notably the 80x86 and 680x0.</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="comment"> */</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="foldopen" id="foldopen00119" data-start="{" data-end="};">
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="struct__pte.html">  119</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct__pte.html">_pte</a> {</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno"><a class="line" href="struct__pte.html#aea639ba732aeb8f28989d1c9f716824e">  120</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct__pte.html#aea639ba732aeb8f28989d1c9f716824e">page_num</a> : 20;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno"><a class="line" href="struct__pte.html#a1a745d02ceae171948dad13717eaa87f">  121</a></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_variable" href="struct__pte.html#a1a745d02ceae171948dad13717eaa87f">flags</a> : 12; <span class="comment">/* Page flags (some unused bits) */</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno"><a class="line" href="mmu_8h.html#aefce2afd8dd9de05b0e8afb9049cb693">  122</a></span>} <a class="code hl_typedef" href="mmu_8h.html#aefce2afd8dd9de05b0e8afb9049cb693">pte</a>;</div>
</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span> </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab9126a4380117dcb422f1b2025a78cd1">  124</a></span><span class="preprocessor">#define PD_SHIFT (10 + 12) </span><span class="comment">/* Page directory */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab44bdd714f3dcacacd2c8deca2f22568">  125</a></span><span class="preprocessor">#define PD_MASK 0x02FF</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno"><a class="line" href="mmu_8h.html#a7496a45975584433a5c8bf5d64c5a33e">  126</a></span><span class="preprocessor">#define PT_SHIFT (12) </span><span class="comment">/* Page Table */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno"><a class="line" href="mmu_8h.html#a5ac9ef4ca665d5f88e1c7bfa4098a486">  127</a></span><span class="preprocessor">#define PT_MASK 0x02FF</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="mmu_8h.html#a01e55268f309d811b29b8602d5446061">  128</a></span><span class="preprocessor">#define PG_SHIFT (12) </span><span class="comment">/* Page Entry */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="comment">/* MMU context */</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span> </div>
<div class="foldopen" id="foldopen00132" data-start="{" data-end="};">
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="struct___m_m_u__context.html">  132</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code hl_struct" href="struct___m_m_u__context.html">_MMU_context</a> {</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="struct___m_m_u__context.html#a62546f43acf750940f4ebcbbfb73193d">  133</a></span>  <a class="code hl_struct" href="struct___s_e_g_r_e_g.html">SEGREG</a> <a class="code hl_variable" href="struct___m_m_u__context.html#a62546f43acf750940f4ebcbbfb73193d">segs</a>[16]; <span class="comment">/* Segment registers */</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="struct___m_m_u__context.html#acd47c8d772a3117d4b212b8c72e296fd">  134</a></span>  <a class="code hl_struct" href="struct__pte.html">pte</a>**  <a class="code hl_variable" href="struct___m_m_u__context.html#acd47c8d772a3117d4b212b8c72e296fd">pmap</a>;     <span class="comment">/* Two-level page-map structure */</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno"><a class="line" href="mmu_8h.html#a0de067e3ce80dc5cc59ae2349be3c961">  135</a></span>} <a class="code hl_typedef" href="mmu_8h.html#a0de067e3ce80dc5cc59ae2349be3c961">MMU_context</a>;</div>
</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="mmu_8h.html#a8d2c399df6520b40404dec59e1c434fd">  137</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="mmu_8h.html#a8d2c399df6520b40404dec59e1c434fd">_tlbie</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> va); <span class="comment">/* invalidate a TLB entry */</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="mmu_8h.html#a9821fe813eb4e9fa5d5ac4814001d3d0">  138</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="mmu_8h.html#a9821fe813eb4e9fa5d5ac4814001d3d0">_tlbia</a>(<span class="keywordtype">void</span>);             <span class="comment">/* invalidate all TLB entries */</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="preprocessor">#ifdef CONFIG_ADDR_MAP</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="keyword">extern</span> <span class="keywordtype">void</span> init_addr_map(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="foldopen" id="foldopen00144" data-start="{" data-end="};">
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4">  144</a></span><span class="keyword">typedef</span> <span class="keyword">enum</span> {</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a208ead019e301cf196da2bfa5526b300">  145</a></span>  <a class="code hl_enumvalue" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a208ead019e301cf196da2bfa5526b300">IBAT0</a> = 0,</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a861c0782907c86db292e8f0fc0ff0eb1">  146</a></span>  <a class="code hl_enumvalue" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a861c0782907c86db292e8f0fc0ff0eb1">IBAT1</a>,</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a126d78c3612c773ec091f6e2bb27a4ef">  147</a></span>  <a class="code hl_enumvalue" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a126d78c3612c773ec091f6e2bb27a4ef">IBAT2</a>,</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a52d256a38243a83a492c088744efe0ef">  148</a></span>  <a class="code hl_enumvalue" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a52d256a38243a83a492c088744efe0ef">IBAT3</a>,</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a24fc3af95d0c22d1c26b5f587bf68572">  149</a></span>  <a class="code hl_enumvalue" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a24fc3af95d0c22d1c26b5f587bf68572">DBAT0</a>,</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4afd54f7628bf10d5c29dc85fcd0601e5e">  150</a></span>  <a class="code hl_enumvalue" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4afd54f7628bf10d5c29dc85fcd0601e5e">DBAT1</a>,</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a9887715ee5dfb6e917bb656d32a33140">  151</a></span>  <a class="code hl_enumvalue" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a9887715ee5dfb6e917bb656d32a33140">DBAT2</a>,</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno"><a class="line" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4ae29ffa5678545357b30271a1e46f4fe6">  152</a></span>  <a class="code hl_enumvalue" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4ae29ffa5678545357b30271a1e46f4fe6">DBAT3</a>,</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="preprocessor">#ifdef CONFIG_HIGH_BATS</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>  IBAT4,</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>  IBAT5,</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>  IBAT6,</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>  IBAT7,</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>  DBAT4,</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>  DBAT5,</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>  DBAT6,</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>  DBAT7</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>} <a class="code hl_enumeration" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4">ppc_bat_t</a>;</div>
</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="mmu_8h.html#a50d4292c7b45eba83434b138209cd4ee">  165</a></span><span class="keyword">extern</span> <span class="keywordtype">int</span>  <a class="code hl_function" href="mmu_8h.html#a50d4292c7b45eba83434b138209cd4ee">read_bat</a>(<a class="code hl_enumeration" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4">ppc_bat_t</a> bat, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>* upper, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>* lower);</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno"><a class="line" href="mmu_8h.html#a2c19d57bc75e571209ae63ba83d80002">  166</a></span><span class="keyword">extern</span> <span class="keywordtype">int</span>  <a class="code hl_function" href="mmu_8h.html#a2c19d57bc75e571209ae63ba83d80002">write_bat</a>(<a class="code hl_enumeration" href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4">ppc_bat_t</a> bat, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> upper, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> lower);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa5aff0bb66a6f7316a788eb9fa4f2065">  167</a></span><span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code hl_function" href="mmu_8h.html#aa5aff0bb66a6f7316a788eb9fa4f2065">print_bats</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="preprocessor">#endif </span><span class="comment">/* __ASSEMBLY__ */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno"><a class="line" href="mmu_8h.html#a0ed03d274cada50e8e6c886c62b23b34">  171</a></span><span class="preprocessor">#define BATU_VS 0x00000002</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad5c0046619e0374f68e75e499da998f0">  172</a></span><span class="preprocessor">#define BATU_VP 0x00000001</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno"><a class="line" href="mmu_8h.html#a03199a9c7860b47c1d540950b5b161f0">  173</a></span><span class="preprocessor">#define BATU_INVALID 0x00000000</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno"><a class="line" href="mmu_8h.html#af2bed3e76314b94eb4ab3de7a55dba8d">  175</a></span><span class="preprocessor">#define BATL_WRITETHROUGH 0x00000040</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno"><a class="line" href="mmu_8h.html#a2889e0c2f678ab23db3ee3feaa5dea8e">  176</a></span><span class="preprocessor">#define BATL_CACHEINHIBIT 0x00000020</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno"><a class="line" href="mmu_8h.html#a9aef1d5413ce950cad6dad4792388b19">  177</a></span><span class="preprocessor">#define BATL_MEMCOHERENCE 0x00000010</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae95d9523d52b74817a7b12cb2aa2655c">  178</a></span><span class="preprocessor">#define BATL_GUARDEDSTORAGE 0x00000008</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno"><a class="line" href="mmu_8h.html#a90512f780de7ca73edd40e1a5d5c3926">  179</a></span><span class="preprocessor">#define BATL_NO_ACCESS 0x00000000</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="mmu_8h.html#a7c16bacbdf2ec4862f0d6521bde2c6a7">  181</a></span><span class="preprocessor">#define BATL_PP_MSK 0x00000003</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno"><a class="line" href="mmu_8h.html#a261d8d0f32a637169ccaf7e4e80e8fc0">  182</a></span><span class="preprocessor">#define BATL_PP_00 0x00000000 </span><span class="comment">/* No access */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno"><a class="line" href="mmu_8h.html#a9ffec93c500dacfdbc6ef210e279530d">  183</a></span><span class="preprocessor">#define BATL_PP_01 0x00000001 </span><span class="comment">/* Read-only */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno"><a class="line" href="mmu_8h.html#adb1e2053d1f599c141e2b9eaa15c8a51">  184</a></span><span class="preprocessor">#define BATL_PP_10 0x00000002 </span><span class="comment">/* Read-write */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno"><a class="line" href="mmu_8h.html#aed525bffb62a79d9cb5616f788357166">  185</a></span><span class="preprocessor">#define BATL_PP_11 0x00000003</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span> </div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno"><a class="line" href="mmu_8h.html#adece67e9d7ec0abae4b848a7cc092dac">  187</a></span><span class="preprocessor">#define BATL_PP_NO_ACCESS BATL_PP_00</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno"><a class="line" href="mmu_8h.html#a3368f4207aba0318c53f583c65c436be">  188</a></span><span class="preprocessor">#define BATL_PP_RO BATL_PP_01</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab7408030d6d2f5dbd7239ca8c7c7dac9">  189</a></span><span class="preprocessor">#define BATL_PP_RW BATL_PP_10</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span> </div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span><span class="comment">/* BAT Block size values */</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa62fb0f510b5a0fcb66afe47b3608cc7">  192</a></span><span class="preprocessor">#define BATU_BL_128K 0x00000000</span></div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="mmu_8h.html#a54fb1d7d20baf4f877a0e43ec5ec6c9d">  193</a></span><span class="preprocessor">#define BATU_BL_256K 0x00000004</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno"><a class="line" href="mmu_8h.html#ac1295e69f19642f22706d23ab9bbf1f7">  194</a></span><span class="preprocessor">#define BATU_BL_512K 0x0000000c</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="mmu_8h.html#a57ffb5bed2bd6b7c88c14b5f2f1d3645">  195</a></span><span class="preprocessor">#define BATU_BL_1M 0x0000001c</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno"><a class="line" href="mmu_8h.html#af7b5c2c39a338f0bc704862434d692fc">  196</a></span><span class="preprocessor">#define BATU_BL_2M 0x0000003c</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno"><a class="line" href="mmu_8h.html#a46d427217e0f2714a69044f1ae21d93e">  197</a></span><span class="preprocessor">#define BATU_BL_4M 0x0000007c</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae7f958b01a007e16bdcdeb32df3f6698">  198</a></span><span class="preprocessor">#define BATU_BL_8M 0x000000fc</span></div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab3f55132650f8a43f987d06b5d99f578">  199</a></span><span class="preprocessor">#define BATU_BL_16M 0x000001fc</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno"><a class="line" href="mmu_8h.html#a3eaa28aed4924c072522fd0d2843afba">  200</a></span><span class="preprocessor">#define BATU_BL_32M 0x000003fc</span></div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno"><a class="line" href="mmu_8h.html#a5063322e787d4624c6935878c580b72e">  201</a></span><span class="preprocessor">#define BATU_BL_64M 0x000007fc</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno"><a class="line" href="mmu_8h.html#a02758874a436a22d266a98c550e0300c">  202</a></span><span class="preprocessor">#define BATU_BL_128M 0x00000ffc</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno"><a class="line" href="mmu_8h.html#a89f1c137c8d77a07002025f4cbdf1c81">  203</a></span><span class="preprocessor">#define BATU_BL_256M 0x00001ffc</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span><span class="comment">/* Block lengths for processors that support extended block length */</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="preprocessor">#ifdef HID0_XBSEN</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="preprocessor">#define BATU_BL_512M 0x00003ffc</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="preprocessor">#define BATU_BL_1G 0x00007ffc</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="preprocessor">#define BATU_BL_2G 0x0000fffc</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="preprocessor">#define BATU_BL_4G 0x0001fffc</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="preprocessor">#define BATU_BL_MAX BATU_BL_4G</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="preprocessor">#else</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno"><a class="line" href="mmu_8h.html#a466b35ea96260cb55b6a3f33c8e5341f">  213</a></span><span class="preprocessor">#define BATU_BL_MAX BATU_BL_256M</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span> </div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span><span class="comment">/* BAT Access Protection */</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno"><a class="line" href="mmu_8h.html#aaf01593227d4c2126afb5a00b99109e5">  217</a></span><span class="preprocessor">#define BPP_XX 0x00 </span><span class="comment">/* No access */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="mmu_8h.html#a11f5dd8b12a885c5426e4b94503bcc60">  218</a></span><span class="preprocessor">#define BPP_RX 0x01 </span><span class="comment">/* Read only */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno"><a class="line" href="mmu_8h.html#a11d2665186a66ad7b7a8000e0c962b75">  219</a></span><span class="preprocessor">#define BPP_RW 0x02 </span><span class="comment">/* Read/write */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span><span class="comment">/* Macros to get values from BATs, once data is in the BAT register format */</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="mmu_8h.html#a0f09bcd67d961595dfbceadfde63f99c">  222</a></span><span class="preprocessor">#define BATU_VALID(x) (x &amp; 0x3)</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa7114bcc570a843b80393d6bffc85187">  223</a></span><span class="preprocessor">#define BATU_VADDR(x) (x &amp; 0xfffe0000)</span></div>
<div class="foldopen" id="foldopen00224" data-start="" data-end="">
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno"><a class="line" href="mmu_8h.html#a8559b07301cfbd93d5332dad40bffc14">  224</a></span><span class="preprocessor">#define BATL_PADDR(x) \</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="preprocessor">  ((phys_addr_t) ((x &amp; 0xfffe0000) | ((x &amp; 0x0e00ULL) &lt;&lt; 24) | ((x &amp; 0x04ULL) &lt;&lt; 30)))</span></div>
</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno"><a class="line" href="mmu_8h.html#a85f1677961424d17e558c141ebad0aea">  226</a></span><span class="preprocessor">#define BATU_SIZE(x) (1ULL &lt;&lt; (fls((x &amp; BATU_BL_MAX) &gt;&gt; 2) + 17))</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="comment">/* bytes into BATU_BL */</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno"><a class="line" href="mmu_8h.html#a8d0d851e8f022efab1a4e69b482f8a7b">  229</a></span><span class="preprocessor">#define TO_BATU_BL(x) (uint32_t)((((1ull &lt;&lt; __ilog2_u64((uint64_t) x)) / (128 * 1024)) - 1) * 4)</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="comment">/* Used to set up SDR1 register */</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno"><a class="line" href="mmu_8h.html#a66531b1e0aa5858791774a1d10849b5f">  232</a></span><span class="preprocessor">#define HASH_TABLE_SIZE_64K 0x00010000</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="mmu_8h.html#a5d3746e2a37357eabf9a389a465ad00d">  233</a></span><span class="preprocessor">#define HASH_TABLE_SIZE_128K 0x00020000</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa8b8a3ddddd7eac2baabcbc2236aea8b">  234</a></span><span class="preprocessor">#define HASH_TABLE_SIZE_256K 0x00040000</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno"><a class="line" href="mmu_8h.html#a73960aab9fbd5cf7faa5b820f3ad1441">  235</a></span><span class="preprocessor">#define HASH_TABLE_SIZE_512K 0x00080000</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa255bca210dfa959dfad410dd74552e0">  236</a></span><span class="preprocessor">#define HASH_TABLE_SIZE_1M 0x00100000</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno"><a class="line" href="mmu_8h.html#a85621fe2721d3f98e488f59c8d550b3e">  237</a></span><span class="preprocessor">#define HASH_TABLE_SIZE_2M 0x00200000</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno"><a class="line" href="mmu_8h.html#a58713124ddaf1e68753b1791f5863791">  238</a></span><span class="preprocessor">#define HASH_TABLE_SIZE_4M 0x00400000</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab567e2fca0d47179fc9560ba68901f44">  239</a></span><span class="preprocessor">#define HASH_TABLE_MASK_64K 0x000</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab03bf8aab3f752b0d2986010261ee63f">  240</a></span><span class="preprocessor">#define HASH_TABLE_MASK_128K 0x001</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno"><a class="line" href="mmu_8h.html#a8a6c9b00cb1449b556eb955ad855483c">  241</a></span><span class="preprocessor">#define HASH_TABLE_MASK_256K 0x003</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno"><a class="line" href="mmu_8h.html#abebb0827f21397dcd6e571282fd6a672">  242</a></span><span class="preprocessor">#define HASH_TABLE_MASK_512K 0x007</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno"><a class="line" href="mmu_8h.html#a4bbfd7b854915b08527814986555fa97">  243</a></span><span class="preprocessor">#define HASH_TABLE_MASK_1M 0x00F</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae340f4f701b78e1de7ad0dbeb0538589">  244</a></span><span class="preprocessor">#define HASH_TABLE_MASK_2M 0x01F</span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="mmu_8h.html#a3271adf0893370018401255f94bd6a7e">  245</a></span><span class="preprocessor">#define HASH_TABLE_MASK_4M 0x03F</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="comment">/* Control/status registers for the MPC8xx.</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="comment"> * A write operation to these registers causes serialized access.</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="comment"> * During software tablewalk, the registers used perform mask/shift-add</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="comment"> * operations when written/read.  A TLB entry is created when the Mx_RPN</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="comment"> * is written, and the contents of several registers are used to</span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span><span class="comment"> * create the entry.</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="comment"> */</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa8400319b20cf25ff1bb497a7964beea">  254</a></span><span class="preprocessor">#define MI_CTR 784             </span><span class="comment">/* Instruction TLB control register */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno"><a class="line" href="mmu_8h.html#a7d6281638896c75fe54744491523657c">  255</a></span><span class="preprocessor">#define MI_GPM 0x80000000      </span><span class="comment">/* Set domain manager mode */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae23ef51528e3ffc92418c00a09e524f6">  256</a></span><span class="preprocessor">#define MI_PPM 0x40000000      </span><span class="comment">/* Set subpage protection */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab95a2ffd624dc4c00ff6c72b31ad5fd6">  257</a></span><span class="preprocessor">#define MI_CIDEF 0x20000000    </span><span class="comment">/* Set cache inhibit when MMU dis */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno"><a class="line" href="mmu_8h.html#a5dae2a5143f55fcbc08a268c2b02c47d">  258</a></span><span class="preprocessor">#define MI_RSV4I 0x08000000    </span><span class="comment">/* Reserve 4 TLB entries */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="mmu_8h.html#acbe2bfc27acbd27bd0ee621309c4a682">  259</a></span><span class="preprocessor">#define MI_PPCS 0x02000000     </span><span class="comment">/* Use MI_RPN prob/priv state */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno"><a class="line" href="mmu_8h.html#af83dd5ab00e8ea33dca95f4536624c70">  260</a></span><span class="preprocessor">#define MI_IDXMASK 0x00001f00  </span><span class="comment">/* TLB index to be loaded */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno"><a class="line" href="mmu_8h.html#a8bdc91e7be02d0231e1b0c8cec121558">  261</a></span><span class="preprocessor">#define MI_RESETVAL 0x00000000 </span><span class="comment">/* Value of register at reset */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span> </div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="comment">/* These are the Ks and Kp from the PowerPC books.  For proper operation,</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment"> * Ks = 0, Kp = 1.</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="comment"> */</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae41df78caf2988d937e8df4257aa1b99">  266</a></span><span class="preprocessor">#define MI_AP 786</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno"><a class="line" href="mmu_8h.html#af8732fcf1343bcb9349eb0725d37aa63">  267</a></span><span class="preprocessor">#define MI_Ks 0x80000000 </span><span class="comment">/* Should not be set */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="mmu_8h.html#a14af9e63a2e75520a10459fcf00355e8">  268</a></span><span class="preprocessor">#define MI_Kp 0x40000000 </span><span class="comment">/* Should always be set */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span> </div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="comment">/* The effective page number register.  When read, contains the information</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span><span class="comment"> * about the last instruction TLB miss.  When MI_RPN is written, bits in</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span><span class="comment"> * this register are used to create the TLB entry.</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span><span class="comment"> */</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae1664bfa5c5c6e93e44c42dee5dbc14f">  274</a></span><span class="preprocessor">#define MI_EPN 787</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno"><a class="line" href="mmu_8h.html#aebbc1ff7969ea394ac51d17b4dc8ebc7">  275</a></span><span class="preprocessor">#define MI_EPNMASK 0xfffff000  </span><span class="comment">/* Effective page number for entry */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="mmu_8h.html#abf2da40f261b1200a586566827a38bc9">  276</a></span><span class="preprocessor">#define MI_EVALID 0x00000200   </span><span class="comment">/* Entry is valid */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno"><a class="line" href="mmu_8h.html#a838d3025e96670f6a7b028a29374f1df">  277</a></span><span class="preprocessor">#define MI_ASIDMASK 0x0000000f </span><span class="comment">/* ASID match value */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>                               <span class="comment">/* Reset value is undefined */</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span><span class="comment">/* A &quot;level 1&quot; or &quot;segment&quot; or whatever you want to call it register.</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="comment"> * For the instruction TLB, it contains bits that get loaded into the</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="comment"> * TLB entry when the MI_RPN is written.</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment"> */</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno"><a class="line" href="mmu_8h.html#a6d6f6b09e96f3fa33f70517e117bb315">  284</a></span><span class="preprocessor">#define MI_TWC 789</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno"><a class="line" href="mmu_8h.html#a9952f24963917b7832cbe9bb66ec0dc0">  285</a></span><span class="preprocessor">#define MI_APG 0x000001e0      </span><span class="comment">/* Access protection group (0) */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno"><a class="line" href="mmu_8h.html#a7078619f8ba9aefd6a6628b8842ca6e7">  286</a></span><span class="preprocessor">#define MI_GUARDED 0x00000010  </span><span class="comment">/* Guarded storage */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad63dd2d1434c8991eb68db0539feec37">  287</a></span><span class="preprocessor">#define MI_PSMASK 0x0000000c   </span><span class="comment">/* Mask of page size bits */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab8ac8616155d0bdaa2d75916e01a75b5">  288</a></span><span class="preprocessor">#define MI_PS8MEG 0x0000000c   </span><span class="comment">/* 8M page size */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno"><a class="line" href="mmu_8h.html#a9f37c39046ab0e01b889504e95308b10">  289</a></span><span class="preprocessor">#define MI_PS512K 0x00000004   </span><span class="comment">/* 512K page size */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno"><a class="line" href="mmu_8h.html#abc2d4c350a90bd02e313223cb2456820">  290</a></span><span class="preprocessor">#define MI_PS4K_16K 0x00000000 </span><span class="comment">/* 4K or 16K page size */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno"><a class="line" href="mmu_8h.html#a0293d3e6746514d7b9f8ec5970e62450">  291</a></span><span class="preprocessor">#define MI_SVALID 0x00000001   </span><span class="comment">/* Segment entry is valid */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                               <span class="comment">/* Reset value is undefined */</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span> </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="comment">/* Real page number.  Defined by the pte.  Writing this register</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="comment"> * causes a TLB entry to be created for the instruction TLB, using</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span><span class="comment"> * additional information from the MI_EPN, and MI_TWC registers.</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="comment"> */</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno"><a class="line" href="mmu_8h.html#a2e2f9f6820f6916bc45a900869bea091">  298</a></span><span class="preprocessor">#define MI_RPN 790</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span> </div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span><span class="comment">/* Define an RPN value for mapping Kernel memory to large virtual</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="comment"> * pages for boot initialization.  This has real page number of 0,</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="comment"> * large page size, shared page, cache enabled, and valid.</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="comment"> * Also mark all subpages valid and write access.</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="comment"> */</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno"><a class="line" href="mmu_8h.html#ac26b9bd41456ac41317e8848a127b882">  305</a></span><span class="preprocessor">#define MI_BOOTINIT 0x000001fd</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span> </div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno"><a class="line" href="mmu_8h.html#a163440473e91b1edb256bb59d772c6b1">  307</a></span><span class="preprocessor">#define MD_CTR 792             </span><span class="comment">/* Data TLB control register */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="mmu_8h.html#a1b89122f3feed92fb28e9ab4915de45e">  308</a></span><span class="preprocessor">#define MD_GPM 0x80000000      </span><span class="comment">/* Set domain manager mode */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno"><a class="line" href="mmu_8h.html#aee02d6be83cab217f36002b0e0abde2c">  309</a></span><span class="preprocessor">#define MD_PPM 0x40000000      </span><span class="comment">/* Set subpage protection */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno"><a class="line" href="mmu_8h.html#a749461ef1acbbebccdbb693fa2f79a42">  310</a></span><span class="preprocessor">#define MD_CIDEF 0x20000000    </span><span class="comment">/* Set cache inhibit when MMU dis */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno"><a class="line" href="mmu_8h.html#ac4c3266399c44af63558a0c619657d12">  311</a></span><span class="preprocessor">#define MD_WTDEF 0x10000000    </span><span class="comment">/* Set writethrough when MMU dis */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno"><a class="line" href="mmu_8h.html#a603bbff90b258229a9b65402c2783d3b">  312</a></span><span class="preprocessor">#define MD_RSV4I 0x08000000    </span><span class="comment">/* Reserve 4 TLB entries */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno"><a class="line" href="mmu_8h.html#a51b2906db4fb57fc08ebcff59e718bc2">  313</a></span><span class="preprocessor">#define MD_TWAM 0x04000000     </span><span class="comment">/* Use 4K page hardware assist */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno"><a class="line" href="mmu_8h.html#a76d8a09c083a1a129dec276b16928016">  314</a></span><span class="preprocessor">#define MD_PPCS 0x02000000     </span><span class="comment">/* Use MI_RPN prob/priv state */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno"><a class="line" href="mmu_8h.html#a7b6428e7aa0673ce8c2542285730cb6e">  315</a></span><span class="preprocessor">#define MD_IDXMASK 0x00001f00  </span><span class="comment">/* TLB index to be loaded */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno"><a class="line" href="mmu_8h.html#a796c6b87f78304990f22ef0814e3c2f2">  316</a></span><span class="preprocessor">#define MD_RESETVAL 0x04000000 </span><span class="comment">/* Value of register at reset */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span> </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae706613eb9fb2ece71ef411cddc40e79">  318</a></span><span class="preprocessor">#define M_CASID 793            </span><span class="comment">/* Address space ID (context) to match */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno"><a class="line" href="mmu_8h.html#af24013b5d9512742c1abdf31b1442d0e">  319</a></span><span class="preprocessor">#define MC_ASIDMASK 0x0000000f </span><span class="comment">/* Bits used for ASID value */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span> </div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span><span class="comment">/* These are the Ks and Kp from the PowerPC books.  For proper operation,</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span><span class="comment"> * Ks = 0, Kp = 1.</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span><span class="comment"> */</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno"><a class="line" href="mmu_8h.html#adb3796ddd7e78ce3898b02f980d915e3">  324</a></span><span class="preprocessor">#define MD_AP 794</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="mmu_8h.html#a0a2f85f0d2567c41c60c9991f47e813b">  325</a></span><span class="preprocessor">#define MD_Ks 0x80000000 </span><span class="comment">/* Should not be set */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno"><a class="line" href="mmu_8h.html#aea1ac236efb71dc31393cc2f5a9ed60a">  326</a></span><span class="preprocessor">#define MD_Kp 0x40000000 </span><span class="comment">/* Should always be set */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span> </div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span><span class="comment">/* The effective page number register.  When read, contains the information</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="comment"> * about the last instruction TLB miss.  When MD_RPN is written, bits in</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="comment"> * this register are used to create the TLB entry.</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment"> */</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno"><a class="line" href="mmu_8h.html#a065ebbeda85e6628739fa18f235a6215">  332</a></span><span class="preprocessor">#define MD_EPN 795</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae93a522a4871e03034e3520a99dd9a94">  333</a></span><span class="preprocessor">#define MD_EPNMASK 0xfffff000  </span><span class="comment">/* Effective page number for entry */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno"><a class="line" href="mmu_8h.html#af140dd8855d98fa1d4d258f0c39989f9">  334</a></span><span class="preprocessor">#define MD_EVALID 0x00000200   </span><span class="comment">/* Entry is valid */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno"><a class="line" href="mmu_8h.html#af555e61480c3489783acb007d439d226">  335</a></span><span class="preprocessor">#define MD_ASIDMASK 0x0000000f </span><span class="comment">/* ASID match value */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                               <span class="comment">/* Reset value is undefined */</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span><span class="comment">/* The pointer to the base address of the first level page table.</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span><span class="comment"> * During a software tablewalk, reading this register provides the address</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span><span class="comment"> * of the entry associated with MD_EPN.</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="comment"> */</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno"><a class="line" href="mmu_8h.html#a2b5c3492efb87fbd4053ca572dde9617">  342</a></span><span class="preprocessor">#define M_TWB 796</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno"><a class="line" href="mmu_8h.html#af718da5c779d40f44ffd89febb7e9933">  343</a></span><span class="preprocessor">#define M_L1TB 0xfffff000   </span><span class="comment">/* Level 1 table base address */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno"><a class="line" href="mmu_8h.html#a5ffe29dc7a973863dac215e551f96a1c">  344</a></span><span class="preprocessor">#define M_L1INDX 0x00000ffc </span><span class="comment">/* Level 1 index, when read */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>                            <span class="comment">/* Reset value is undefined */</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span><span class="comment">/* A &quot;level 1&quot; or &quot;segment&quot; or whatever you want to call it register.</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span><span class="comment"> * For the data TLB, it contains bits that get loaded into the TLB entry</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="comment"> * when the MD_RPN is written.  It is also provides the hardware assist</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="comment"> * for finding the PTE address during software tablewalk.</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="comment"> */</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab42c6802ef17a7974303c68c383966f9">  352</a></span><span class="preprocessor">#define MD_TWC 797</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno"><a class="line" href="mmu_8h.html#a33e12332e923dd2435ea68603c12d68a">  353</a></span><span class="preprocessor">#define MD_L2TB 0xfffff000     </span><span class="comment">/* Level 2 table base address */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno"><a class="line" href="mmu_8h.html#a04ba174412d32445505a41d32ae72cc5">  354</a></span><span class="preprocessor">#define MD_L2INDX 0xfffffe00   </span><span class="comment">/* Level 2 index (*pte), when read */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno"><a class="line" href="mmu_8h.html#a58d18f91a9ac2f02dafad0f37d2b869a">  355</a></span><span class="preprocessor">#define MD_APG 0x000001e0      </span><span class="comment">/* Access protection group (0) */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno"><a class="line" href="mmu_8h.html#a186489fb3ccbc944fcee8ae37ebddd90">  356</a></span><span class="preprocessor">#define MD_GUARDED 0x00000010  </span><span class="comment">/* Guarded storage */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno"><a class="line" href="mmu_8h.html#ade118b187024b6748b82ac723db5bcd6">  357</a></span><span class="preprocessor">#define MD_PSMASK 0x0000000c   </span><span class="comment">/* Mask of page size bits */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno"><a class="line" href="mmu_8h.html#a9e1411598af3a83c5ae027e732f03a2d">  358</a></span><span class="preprocessor">#define MD_PS8MEG 0x0000000c   </span><span class="comment">/* 8M page size */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno"><a class="line" href="mmu_8h.html#a484e19a361737be519a544ae0179a47c">  359</a></span><span class="preprocessor">#define MD_PS512K 0x00000004   </span><span class="comment">/* 512K page size */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa29e39d9f80f080aa43c02b7a4b188d4">  360</a></span><span class="preprocessor">#define MD_PS4K_16K 0x00000000 </span><span class="comment">/* 4K or 16K page size */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno"><a class="line" href="mmu_8h.html#adf3652f27b695586ba4b48ffa55e232b">  361</a></span><span class="preprocessor">#define MD_WT 0x00000002       </span><span class="comment">/* Use writethrough page attribute */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno"><a class="line" href="mmu_8h.html#a87e9189e5e0d746e938a585594350237">  362</a></span><span class="preprocessor">#define MD_SVALID 0x00000001   </span><span class="comment">/* Segment entry is valid */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>                               <span class="comment">/* Reset value is undefined */</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="comment">/* Real page number.  Defined by the pte.  Writing this register</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span><span class="comment"> * causes a TLB entry to be created for the data TLB, using</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span><span class="comment"> * additional information from the MD_EPN, and MD_TWC registers.</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="comment"> */</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno"><a class="line" href="mmu_8h.html#a1f3ab9c29d2319e028a59c5e6efa9f30">  369</a></span><span class="preprocessor">#define MD_RPN 798</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span> </div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span><span class="comment">/* This is a temporary storage register that could be used to save</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span><span class="comment"> * a processor working register during a tablewalk.</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span><span class="comment"> */</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno"><a class="line" href="mmu_8h.html#af484d22b48dec15a40f2af6469c2922d">  374</a></span><span class="preprocessor">#define M_TW 799</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span><span class="comment">/*</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span><span class="comment"> * At present, all PowerPC 400-class processors share a similar TLB</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span><span class="comment"> * architecture. The instruction and data sides share a unified,</span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span><span class="comment"> * 64-entry, fully-associative TLB which is maintained totally under</span></div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span><span class="comment"> * software control. In addition, the instruction side has a</span></div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span><span class="comment"> * hardware-managed, 4-entry, fully- associative TLB which serves as a</span></div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span><span class="comment"> * first level to the shared TLB. These two TLBs are known as the UTLB</span></div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span><span class="comment"> * and ITLB, respectively.</span></div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span><span class="comment"> */</span></div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span> </div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno"><a class="line" href="mmu_8h.html#a69a5171946aa812c7a1cef959e2a7f40">  386</a></span><span class="preprocessor">#define PPC4XX_TLB_SIZE 64</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span><span class="comment">/*</span></div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span><span class="comment"> * TLB entries are defined by a &quot;high&quot; tag portion and a &quot;low&quot; data</span></div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span><span class="comment"> * portion.  On all architectures, the data portion is 32-bits.</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span><span class="comment"> *</span></div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span><span class="comment"> * TLB entries are managed entirely under software control by reading,</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span><span class="comment"> * writing, and searchoing using the 4xx-specific tlbre, tlbwr, and tlbsx</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span><span class="comment"> * instructions.</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span><span class="comment"> */</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="comment">/*</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="comment"> * FSL Book-E support</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="comment"> */</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span> </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno"><a class="line" href="mmu_8h.html#a30f02931798c60983e8596c0af6861af">  401</a></span><span class="preprocessor">#define MAS0_TLBSEL_MSK 0x30000000</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae7906284cb3fa66a12a218d011f01fef">  402</a></span><span class="preprocessor">#define MAS0_TLBSEL(x) (((x) &lt;&lt; 28) &amp; MAS0_TLBSEL_MSK)</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa75e6ba7c410b2f029d3c3e194d1e27c">  403</a></span><span class="preprocessor">#define MAS0_ESEL_MSK 0x0FFF0000</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno"><a class="line" href="mmu_8h.html#a53a7943b14d463f37dc28a74727c28f4">  404</a></span><span class="preprocessor">#define MAS0_ESEL(x) (((x) &lt;&lt; 16) &amp; MAS0_ESEL_MSK)</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno"><a class="line" href="mmu_8h.html#a06cda7ab4a48d2f9671a079fbdc53b19">  405</a></span><span class="preprocessor">#define MAS0_NV(x) ((x) &amp; 0x00000FFF)</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span> </div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa6bc7dda15dfc5841b72ba000dd40845">  407</a></span><span class="preprocessor">#define MAS1_VALID 0x80000000</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno"><a class="line" href="mmu_8h.html#a2b6f79979ebe9ffb9e06f2013f384cff">  408</a></span><span class="preprocessor">#define MAS1_IPROT 0x40000000</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno"><a class="line" href="mmu_8h.html#a25349201375455ea7a3abd33ee139c32">  409</a></span><span class="preprocessor">#define MAS1_TID(x) (((x) &lt;&lt; 16) &amp; 0x3FFF0000)</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno"><a class="line" href="mmu_8h.html#a04ca23f171133e7fb17347d9179575ea">  410</a></span><span class="preprocessor">#define MAS1_TS 0x00001000</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno"><a class="line" href="mmu_8h.html#a8bbfe05174b1155a7a6bcdf279d4c568">  411</a></span><span class="preprocessor">#define MAS1_TSIZE(x) (((x) &lt;&lt; 7) &amp; 0x00000F80)</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno"><a class="line" href="mmu_8h.html#aea08248e44e03934beff31af1028eebf">  412</a></span><span class="preprocessor">#define TSIZE_TO_BYTES(x) (1ULL &lt;&lt; ((x) + 10))</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span> </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae58f099393e1f2b446ae6b0b1b1c6003">  414</a></span><span class="preprocessor">#define MAS2_EPN 0xFFFFF000</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno"><a class="line" href="mmu_8h.html#a528ec9a21b4bc9eab4dc951db658a95c">  415</a></span><span class="preprocessor">#define MAS2_X0 0x00000040</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno"><a class="line" href="mmu_8h.html#a0cd3c68e2280c7dfad1e6202ed41ba59">  416</a></span><span class="preprocessor">#define MAS2_X1 0x00000020</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa48cc532e8bae9ee8ae357990d2ddce8">  417</a></span><span class="preprocessor">#define MAS2_W 0x00000010</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno"><a class="line" href="mmu_8h.html#af8cee23f70759f6a22ed64d2fa7f5e1d">  418</a></span><span class="preprocessor">#define MAS2_I 0x00000008</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno"><a class="line" href="mmu_8h.html#ac56aca7a9d990344f5fd3854f5c52506">  419</a></span><span class="preprocessor">#define MAS2_M 0x00000004</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno"><a class="line" href="mmu_8h.html#a6b681152d78516c7bd0d9b2569acbd04">  420</a></span><span class="preprocessor">#define MAS2_G 0x00000002</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno"><a class="line" href="mmu_8h.html#a184dde85d1c44f11510acf5afff4239c">  421</a></span><span class="preprocessor">#define MAS2_E 0x00000001</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span> </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno"><a class="line" href="mmu_8h.html#a7aab7765a640537f2c7d5f5ba5a68272">  423</a></span><span class="preprocessor">#define MAS3_RPN 0xFFFFF000</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad3fb573a37264e04036982bb462562a5">  424</a></span><span class="preprocessor">#define MAS3_U0 0x00000200</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="mmu_8h.html#a3967423c98af4de296231b459fef066d">  425</a></span><span class="preprocessor">#define MAS3_U1 0x00000100</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno"><a class="line" href="mmu_8h.html#a063071d2cc9154b30c1cf9b47a69e4f9">  426</a></span><span class="preprocessor">#define MAS3_U2 0x00000080</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno"><a class="line" href="mmu_8h.html#a03e157a748304c956daced8843ebea8a">  427</a></span><span class="preprocessor">#define MAS3_U3 0x00000040</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno"><a class="line" href="mmu_8h.html#a4b6887a59b2587f1d1f7d0d697b9cbf6">  428</a></span><span class="preprocessor">#define MAS3_UX 0x00000020</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno"><a class="line" href="mmu_8h.html#a2ff5f7ff5b98817ffba370cd1bac66c5">  429</a></span><span class="preprocessor">#define MAS3_SX 0x00000010</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno"><a class="line" href="mmu_8h.html#a84ef599701c69930022cf683e2917bc5">  430</a></span><span class="preprocessor">#define MAS3_UW 0x00000008</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno"><a class="line" href="mmu_8h.html#a711356fb58c092974f226416ee1abcac">  431</a></span><span class="preprocessor">#define MAS3_SW 0x00000004</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae692a0fa6b86ba5b22ef0bab4c6de534">  432</a></span><span class="preprocessor">#define MAS3_UR 0x00000002</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno"><a class="line" href="mmu_8h.html#aee3335ff7026cad09591a1ada950e047">  433</a></span><span class="preprocessor">#define MAS3_SR 0x00000001</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span> </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad80b1c392d04a5c51d5bb8e5d9e7fcdb">  435</a></span><span class="preprocessor">#define MAS4_TLBSELD(x) MAS0_TLBSEL(x)</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno"><a class="line" href="mmu_8h.html#acdd863657bbaa348704e44db3487739c">  436</a></span><span class="preprocessor">#define MAS4_TIDDSEL 0x000F0000</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno"><a class="line" href="mmu_8h.html#a861225b7c4d5d80b3eff2957a1299366">  437</a></span><span class="preprocessor">#define MAS4_TSIZED(x) MAS1_TSIZE(x)</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno"><a class="line" href="mmu_8h.html#a987dc9f8d01dd2fc6f2a08ab61588c8f">  438</a></span><span class="preprocessor">#define MAS4_X0D 0x00000040</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno"><a class="line" href="mmu_8h.html#a01fe6d6c698e66fd63b1885f31fbd7f8">  439</a></span><span class="preprocessor">#define MAS4_X1D 0x00000020</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno"><a class="line" href="mmu_8h.html#a129b03b7c1144b56183f163c4b73f902">  440</a></span><span class="preprocessor">#define MAS4_WD 0x00000010</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad478d5ed87282ec657f8794c32ef2a4e">  441</a></span><span class="preprocessor">#define MAS4_ID 0x00000008</span></div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno"><a class="line" href="mmu_8h.html#abad5032ee2f408d1d3806d8d485ac4a1">  442</a></span><span class="preprocessor">#define MAS4_MD 0x00000004</span></div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno"><a class="line" href="mmu_8h.html#aab64d2172269b51551b5d51a21549a8b">  443</a></span><span class="preprocessor">#define MAS4_GD 0x00000002</span></div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno"><a class="line" href="mmu_8h.html#a1fdc709a72d0d12608d31d63a72b350a">  444</a></span><span class="preprocessor">#define MAS4_ED 0x00000001</span></div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span> </div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno"><a class="line" href="mmu_8h.html#ac3e895e0ad90fae7ba1105c4789377ea">  446</a></span><span class="preprocessor">#define MAS6_SPID0 0x3FFF0000</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno"><a class="line" href="mmu_8h.html#a8bf15bf859e2d19e2a43e7f055f25d52">  447</a></span><span class="preprocessor">#define MAS6_SPID1 0x00007FFE</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno"><a class="line" href="mmu_8h.html#a3c9ff1f56e90cc2d530dd99dd69b94fe">  448</a></span><span class="preprocessor">#define MAS6_SAS 0x00000001</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno"><a class="line" href="mmu_8h.html#a1f300da4bbdbf431d2866a30ec2d4a40">  449</a></span><span class="preprocessor">#define MAS6_SPID MAS6_SPID0</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span> </div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno"><a class="line" href="mmu_8h.html#a900dd582efe78f4581f831a5b3e042d2">  451</a></span><span class="preprocessor">#define MAS7_RPN 0xFFFFFFFF</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span> </div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae8285f00f914f01f41ade094e090e819">  453</a></span><span class="preprocessor">#define FSL_BOOKE_MAS0(tlbsel, esel, nv) (MAS0_TLBSEL(tlbsel) | MAS0_ESEL(esel) | MAS0_NV(nv))</span></div>
<div class="foldopen" id="foldopen00454" data-start="" data-end="">
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno"><a class="line" href="mmu_8h.html#a284138c991e5aecb7934c71efa0615a8">  454</a></span><span class="preprocessor">#define FSL_BOOKE_MAS1(v, iprot, tid, ts, tsize)                                   \</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span><span class="preprocessor">  ((((v) &lt;&lt; 31) &amp; MAS1_VALID) | (((iprot) &lt;&lt; 30) &amp; MAS1_IPROT) | (MAS1_TID(tid)) | \</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span><span class="preprocessor">   (((ts) &lt;&lt; 12) &amp; MAS1_TS) | (MAS1_TSIZE(tsize)))</span></div>
</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno"><a class="line" href="mmu_8h.html#a7e77ba459302f606bcfecfbb20275a72">  457</a></span><span class="preprocessor">#define FSL_BOOKE_MAS2(epn, wimge) (((epn) &amp; MAS3_RPN) | (wimge))</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae2438691da48732315b57dec136f4659">  458</a></span><span class="preprocessor">#define FSL_BOOKE_MAS3(rpn, user, perms) (((rpn) &amp; MAS3_RPN) | (user) | (perms))</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno"><a class="line" href="mmu_8h.html#a39096f596f8e08e3dec231c8ef146baa">  459</a></span><span class="preprocessor">#define FSL_BOOKE_MAS7(rpn) (((uint64_t) (rpn)) &gt;&gt; 32)</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span> </div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno"><a class="line" href="mmu_8h.html#af9b8940ff55116caf1d5df6f5c3e6a2d">  461</a></span><span class="preprocessor">#define BOOKE_PAGESZ_1K 0</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno"><a class="line" href="mmu_8h.html#ac1276b6257c2302f1f234ca7187d772e">  462</a></span><span class="preprocessor">#define BOOKE_PAGESZ_2K 1</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno"><a class="line" href="mmu_8h.html#a865e0f6e675a9fcec103ac9cc37f5803">  463</a></span><span class="preprocessor">#define BOOKE_PAGESZ_4K 2</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno"><a class="line" href="mmu_8h.html#a30900652c38c6ee61fede3f1b5536fe5">  464</a></span><span class="preprocessor">#define BOOKE_PAGESZ_8K 3</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno"><a class="line" href="mmu_8h.html#a7a786780a67f00c62205d5a8fce1382f">  465</a></span><span class="preprocessor">#define BOOKE_PAGESZ_16K 4</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad73bbfe5b2cdf8daacceb0288d2974a7">  466</a></span><span class="preprocessor">#define BOOKE_PAGESZ_32K 5</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno"><a class="line" href="mmu_8h.html#ae54eb3787c0bbd3623a38cf4dc0e5b12">  467</a></span><span class="preprocessor">#define BOOKE_PAGESZ_64K 6</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno"><a class="line" href="mmu_8h.html#abfb92b99d940c21eefc82e99b8430f7f">  468</a></span><span class="preprocessor">#define BOOKE_PAGESZ_128K 7</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad1fcbffd7a28aa04de8bc9a11e24ba5e">  469</a></span><span class="preprocessor">#define BOOKE_PAGESZ_256K 8</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno"><a class="line" href="mmu_8h.html#a4f457e9674f69216161c6d5f737acf5d">  470</a></span><span class="preprocessor">#define BOOKE_PAGESZ_512K 9</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno"><a class="line" href="mmu_8h.html#a0c70911c6494a2174f84084c8722c05d">  471</a></span><span class="preprocessor">#define BOOKE_PAGESZ_1M 10</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno"><a class="line" href="mmu_8h.html#a38cc08c92e234ffecfc781304309ee69">  472</a></span><span class="preprocessor">#define BOOKE_PAGESZ_2M 11</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno"><a class="line" href="mmu_8h.html#a68f124b35ad5cb613eed938fa138f705">  473</a></span><span class="preprocessor">#define BOOKE_PAGESZ_4M 12</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno"><a class="line" href="mmu_8h.html#a9d08afc99dd3ff595fffd195bf510b85">  474</a></span><span class="preprocessor">#define BOOKE_PAGESZ_8M 13</span></div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab5fbd3ecac850ab4ed71b72824827b3c">  475</a></span><span class="preprocessor">#define BOOKE_PAGESZ_16M 14</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad5d5c893fb0b15d0d365698fa955aed9">  476</a></span><span class="preprocessor">#define BOOKE_PAGESZ_32M 15</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno"><a class="line" href="mmu_8h.html#a793de3bd589951fc9a7cf16ebfeef581">  477</a></span><span class="preprocessor">#define BOOKE_PAGESZ_64M 16</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno"><a class="line" href="mmu_8h.html#aded608c95f46b9dff8cd21c37e8ab0f9">  478</a></span><span class="preprocessor">#define BOOKE_PAGESZ_128M 17</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno"><a class="line" href="mmu_8h.html#afc3fedf026288b35d981dafe14c673ce">  479</a></span><span class="preprocessor">#define BOOKE_PAGESZ_256M 18</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno"><a class="line" href="mmu_8h.html#a2772633b5aff1934225f59531328f8d9">  480</a></span><span class="preprocessor">#define BOOKE_PAGESZ_512M 19</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno"><a class="line" href="mmu_8h.html#a4288a6f36f5689e5e5102e9038170396">  481</a></span><span class="preprocessor">#define BOOKE_PAGESZ_1G 20</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno"><a class="line" href="mmu_8h.html#a584b295f90ac36b1c476f330dd6d3d82">  482</a></span><span class="preprocessor">#define BOOKE_PAGESZ_2G 21</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno"><a class="line" href="mmu_8h.html#a25461d6f3fedd9d3bbe4f2e8f829f359">  483</a></span><span class="preprocessor">#define BOOKE_PAGESZ_4G 22</span></div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno"><a class="line" href="mmu_8h.html#a917a0b95b700e7dfdefb860a85d939fe">  484</a></span><span class="preprocessor">#define BOOKE_PAGESZ_8G 23</span></div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno"><a class="line" href="mmu_8h.html#a343881c97a5bbe5457404f527dbbd029">  485</a></span><span class="preprocessor">#define BOOKE_PAGESZ_16GB 24</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno"><a class="line" href="mmu_8h.html#aa07fed9edbb6ec97e71c5895a3e5c01e">  486</a></span><span class="preprocessor">#define BOOKE_PAGESZ_32GB 25</span></div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno"><a class="line" href="mmu_8h.html#a8dbbbd4dac71a589a384e7781e135cf3">  487</a></span><span class="preprocessor">#define BOOKE_PAGESZ_64GB 26</span></div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno"><a class="line" href="mmu_8h.html#a77e35a5ff458aef41fe66760dde64891">  488</a></span><span class="preprocessor">#define BOOKE_PAGESZ_128GB 27</span></div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno"><a class="line" href="mmu_8h.html#aba230e475edf3bf705630b3ff9581d5c">  489</a></span><span class="preprocessor">#define BOOKE_PAGESZ_256GB 28</span></div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno"><a class="line" href="mmu_8h.html#a4aead19f368847a7f4dba2b1d35d83ad">  490</a></span><span class="preprocessor">#define BOOKE_PAGESZ_512GB 29</span></div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno"><a class="line" href="mmu_8h.html#a6678627dedb1c8fc00aeb6438684a828">  491</a></span><span class="preprocessor">#define BOOKE_PAGESZ_1TB 30</span></div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno"><a class="line" href="mmu_8h.html#ad39cc950a9e863c6588809b04ea550fb">  492</a></span><span class="preprocessor">#define BOOKE_PAGESZ_2TB 31</span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span> </div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno"><a class="line" href="mmu_8h.html#a632a62a7891dde984f681b74d9b57651">  494</a></span><span class="preprocessor">#define TLBIVAX_ALL 4</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno"><a class="line" href="mmu_8h.html#a96daba93cabd5640bb5ced1eee0645a3">  495</a></span><span class="preprocessor">#define TLBIVAX_TLB0 0</span></div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno"><a class="line" href="mmu_8h.html#ab0f4a454319bc1e2e2f2054e12cf3b92">  496</a></span><span class="preprocessor">#define TLBIVAX_TLB1 8</span></div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span><span class="preprocessor">#ifdef CONFIG_E500</span></div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span><span class="preprocessor">#ifndef __ASSEMBLY__</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span><span class="keyword">extern</span> <span class="keywordtype">void</span> set_tlb(<a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> tlb, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> epn, <a class="code hl_typedef" href="boot_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a> rpn, <a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> perms, <a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> wimge,</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>                    <a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ts, <a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> esel, <a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> tsize, <a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> iprot);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span><span class="keyword">extern</span> <span class="keywordtype">void</span> disable_tlb(<a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> esel);</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span><span class="keyword">extern</span> <span class="keywordtype">void</span> invalidate_tlb(<a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> tlb);</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span><span class="keyword">extern</span> <span class="keywordtype">void</span> init_tlbs(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span><span class="keyword">extern</span> <span class="keywordtype">int</span>  find_tlb_idx(<span class="keywordtype">void</span>* addr, <a class="code hl_typedef" href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> tlbsel);</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span><span class="keyword">extern</span> <span class="keywordtype">void</span> init_used_tlb_cams(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span><span class="keyword">extern</span> <span class="keywordtype">int</span>  find_free_tlbcam(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span><span class="keyword">extern</span> <span class="keywordtype">void</span> print_tlbcam(<span class="keywordtype">void</span>);</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span> </div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span><span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> setup_ddr_tlbs(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> memsize_in_meg);</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span><span class="keyword">extern</span> <span class="keywordtype">void</span>         clear_ddr_tlbs(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> memsize_in_meg);</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span> </div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span><span class="keyword">enum</span> tlb_map_type {</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>  TLB_MAP_RAM,</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>  TLB_MAP_IO,</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>};</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span> </div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span><span class="keyword">extern</span> <a class="code hl_typedef" href="boot_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a> tlb_map_range(<a class="code hl_typedef" href="boot_8h.html#a95c0f4cc152cbacf72a7d70d7077dc96">ulong_t</a> v_addr, <a class="code hl_typedef" href="boot_8h.html#a3635d4f4b91e00d8c63741772cf00d82">phys_addr_t</a> p_addr, <a class="code hl_typedef" href="boot_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a> size,</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>                              <span class="keyword">enum</span> tlb_map_type map_type);</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span> </div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span><span class="keyword">extern</span> <span class="keywordtype">void</span> write_tlb(<a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> _mas0, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> _mas1, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> _mas2, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> _mas3,</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>                      <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> _mas7);</div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="preprocessor">#define SET_TLB_ENTRY(_tlb, _epn, _rpn, _perms, _wimge, _ts, _esel, _sz, _iprot)            \</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span><span class="preprocessor">  {                                                                                         \</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="preprocessor">    .mas0 = FSL_BOOKE_MAS0(_tlb, _esel, 0), .mas1 = FSL_BOOKE_MAS1(1, _iprot, 0, _ts, _sz), \</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="preprocessor">    .mas2 = FSL_BOOKE_MAS2(_epn, _wimge), .mas3 = FSL_BOOKE_MAS3(_rpn, 0, _perms),          \</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span><span class="preprocessor">    .mas7 = FSL_BOOKE_MAS7(_rpn),                                                           \</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span><span class="preprocessor">  }</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span> </div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span><span class="keyword">struct </span>fsl_e_tlb_entry {</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>  <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> mas0;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>  <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> mas1;</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span>  <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> mas2;</div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span>  <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> mas3;</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>  <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> mas7;</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>};</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span> </div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span><span class="keyword">extern</span> <span class="keyword">struct </span>fsl_e_tlb_entry tlb_table[];</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span><span class="keyword">extern</span> <span class="keywordtype">int</span>                    num_tlb_entries;</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span> </div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="preprocessor">#ifdef CONFIG_E300</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span><span class="preprocessor">#define LAWAR_EN 0x80000000</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span><span class="preprocessor">#define LAWAR_SIZE 0x0000003F</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span> </div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span><span class="preprocessor">#define LAWAR_TRGT_IF_PCI 0x00000000</span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span><span class="preprocessor">#define LAWAR_TRGT_IF_PCI1 0x00000000</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span><span class="preprocessor">#define LAWAR_TRGT_IF_PCIX 0x00000000</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span><span class="preprocessor">#define LAWAR_TRGT_IF_PCI2 0x00100000</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span><span class="preprocessor">#define LAWAR_TRGT_IF_PCIE1 0x00200000</span></div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span><span class="preprocessor">#define LAWAR_TRGT_IF_PCIE2 0x00100000</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span><span class="preprocessor">#define LAWAR_TRGT_IF_PCIE3 0x00300000</span></div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span><span class="preprocessor">#define LAWAR_TRGT_IF_LBC 0x00400000</span></div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span><span class="preprocessor">#define LAWAR_TRGT_IF_CCSR 0x00800000</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span><span class="preprocessor">#define LAWAR_TRGT_IF_DDR_INTERLEAVED 0x00B00000</span></div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span><span class="preprocessor">#define LAWAR_TRGT_IF_RIO 0x00c00000</span></div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span><span class="preprocessor">#define LAWAR_TRGT_IF_DDR 0x00f00000</span></div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span><span class="preprocessor">#define LAWAR_TRGT_IF_DDR1 0x00f00000</span></div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span><span class="preprocessor">#define LAWAR_TRGT_IF_DDR2 0x01600000</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span> </div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span><span class="preprocessor">#define LAWAR_SIZE_BASE 0xa</span></div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span><span class="preprocessor">#define LAWAR_SIZE_4K (LAWAR_SIZE_BASE + 1)</span></div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span><span class="preprocessor">#define LAWAR_SIZE_8K (LAWAR_SIZE_BASE + 2)</span></div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span><span class="preprocessor">#define LAWAR_SIZE_16K (LAWAR_SIZE_BASE + 3)</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span><span class="preprocessor">#define LAWAR_SIZE_32K (LAWAR_SIZE_BASE + 4)</span></div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span><span class="preprocessor">#define LAWAR_SIZE_64K (LAWAR_SIZE_BASE + 5)</span></div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span><span class="preprocessor">#define LAWAR_SIZE_128K (LAWAR_SIZE_BASE + 6)</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span><span class="preprocessor">#define LAWAR_SIZE_256K (LAWAR_SIZE_BASE + 7)</span></div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span><span class="preprocessor">#define LAWAR_SIZE_512K (LAWAR_SIZE_BASE + 8)</span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span><span class="preprocessor">#define LAWAR_SIZE_1M (LAWAR_SIZE_BASE + 9)</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span><span class="preprocessor">#define LAWAR_SIZE_2M (LAWAR_SIZE_BASE + 10)</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="preprocessor">#define LAWAR_SIZE_4M (LAWAR_SIZE_BASE + 11)</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span><span class="preprocessor">#define LAWAR_SIZE_8M (LAWAR_SIZE_BASE + 12)</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span><span class="preprocessor">#define LAWAR_SIZE_16M (LAWAR_SIZE_BASE + 13)</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span><span class="preprocessor">#define LAWAR_SIZE_32M (LAWAR_SIZE_BASE + 14)</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span><span class="preprocessor">#define LAWAR_SIZE_64M (LAWAR_SIZE_BASE + 15)</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="preprocessor">#define LAWAR_SIZE_128M (LAWAR_SIZE_BASE + 16)</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span><span class="preprocessor">#define LAWAR_SIZE_256M (LAWAR_SIZE_BASE + 17)</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span><span class="preprocessor">#define LAWAR_SIZE_512M (LAWAR_SIZE_BASE + 18)</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span><span class="preprocessor">#define LAWAR_SIZE_1G (LAWAR_SIZE_BASE + 19)</span></div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span><span class="preprocessor">#define LAWAR_SIZE_2G (LAWAR_SIZE_BASE + 20)</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span><span class="preprocessor">#define LAWAR_SIZE_4G (LAWAR_SIZE_BASE + 21)</span></div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span><span class="preprocessor">#define LAWAR_SIZE_8G (LAWAR_SIZE_BASE + 22)</span></div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span><span class="preprocessor">#define LAWAR_SIZE_16G (LAWAR_SIZE_BASE + 23)</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span><span class="preprocessor">#define LAWAR_SIZE_32G (LAWAR_SIZE_BASE + 24)</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span><span class="preprocessor">#endif</span></div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span> </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span><span class="preprocessor">#ifdef CONFIG_440</span></div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span><span class="comment">/* General */</span></div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span><span class="preprocessor">#define TLB_VALID 0x00000200</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span> </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span><span class="comment">/* Supported page sizes */</span></div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span><span class="preprocessor">#define SZ_1K 0x00000000</span></div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span><span class="preprocessor">#define SZ_4K 0x00000010</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span><span class="preprocessor">#define SZ_16K 0x00000020</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span><span class="preprocessor">#define SZ_64K 0x00000030</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span><span class="preprocessor">#define SZ_256K 0x00000040</span></div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span><span class="preprocessor">#define SZ_1M 0x00000050</span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span><span class="preprocessor">#define SZ_16M 0x00000070</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span><span class="preprocessor">#define SZ_256M 0x00000090</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span> </div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span><span class="comment">/* Storage attributes */</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span><span class="preprocessor">#define SA_W 0x00000800 </span><span class="comment">/* Write-through */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span><span class="preprocessor">#define SA_I 0x00000400 </span><span class="comment">/* Caching inhibited */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span><span class="preprocessor">#define SA_M 0x00000200 </span><span class="comment">/* Memory coherence */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span><span class="preprocessor">#define SA_G 0x00000100 </span><span class="comment">/* Guarded */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span><span class="preprocessor">#define SA_E 0x00000080 </span><span class="comment">/* Endian */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span><span class="comment">/* Some additional macros for combinations often used */</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span><span class="preprocessor">#define SA_IG (SA_I | SA_G)</span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span> </div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span><span class="comment">/* Access control */</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span><span class="preprocessor">#define AC_X 0x00000024 </span><span class="comment">/* Execute */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span><span class="preprocessor">#define AC_W 0x00000012 </span><span class="comment">/* Write */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span><span class="preprocessor">#define AC_R 0x00000009 </span><span class="comment">/* Read */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span><span class="comment">/* Some additional macros for combinations often used */</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span><span class="preprocessor">#define AC_RW (AC_R | AC_W)</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span><span class="preprocessor">#define AC_RWX (AC_R | AC_W | AC_X)</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span> </div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="comment">/* Some handy macros */</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span> </div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span><span class="preprocessor">#define EPN(e) ((e) &amp; 0xfffffc00)</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span><span class="preprocessor">#define TLB0(epn, sz) ((EPN((epn)) | (sz) | TLB_VALID))</span></div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span><span class="preprocessor">#define TLB1(rpn, erpn) (((rpn) &amp; 0xfffffc00) | (erpn))</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span><span class="preprocessor">#define TLB2(a) ((a) &amp; 0x00000fbf)</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span><span class="preprocessor">#define tlbtab_start \</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span><span class="preprocessor">  mflr r1;           \</span></div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span><span class="preprocessor">  bl 0f;</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span><span class="preprocessor">#define tlbtab_end \</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span><span class="preprocessor">  .long 0, 0, 0;   \</span></div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span><span class="preprocessor">  0 : mflr r0;     \</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span><span class="preprocessor">  mtlr     r1;     \</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span><span class="preprocessor">  blr;</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span> </div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span><span class="preprocessor">#define tlbentry(epn, sz, rpn, erpn, attr) .long TLB0(epn, sz), TLB1(rpn, erpn), TLB2(attr)</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span> </div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="comment">/*----------------------------------------------------------------------------+</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span><span class="comment">| TLB specific defines.</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span><span class="comment">+----------------------------------------------------------------------------*/</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span><span class="preprocessor">#define TLB_256MB_ALIGN_MASK 0xFF0000000ULL</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span><span class="preprocessor">#define TLB_16MB_ALIGN_MASK 0xFFF000000ULL</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span><span class="preprocessor">#define TLB_1MB_ALIGN_MASK 0xFFFF00000ULL</span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span><span class="preprocessor">#define TLB_256KB_ALIGN_MASK 0xFFFFC0000ULL</span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span><span class="preprocessor">#define TLB_64KB_ALIGN_MASK 0xFFFFF0000ULL</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span><span class="preprocessor">#define TLB_16KB_ALIGN_MASK 0xFFFFFC000ULL</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><span class="preprocessor">#define TLB_4KB_ALIGN_MASK 0xFFFFFF000ULL</span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><span class="preprocessor">#define TLB_1KB_ALIGN_MASK 0xFFFFFFC00ULL</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span><span class="preprocessor">#define TLB_256MB_SIZE 0x10000000</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span><span class="preprocessor">#define TLB_16MB_SIZE 0x01000000</span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span><span class="preprocessor">#define TLB_1MB_SIZE 0x00100000</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span><span class="preprocessor">#define TLB_256KB_SIZE 0x00040000</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span><span class="preprocessor">#define TLB_64KB_SIZE 0x00010000</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span><span class="preprocessor">#define TLB_16KB_SIZE 0x00004000</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span><span class="preprocessor">#define TLB_4KB_SIZE 0x00001000</span></div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span><span class="preprocessor">#define TLB_1KB_SIZE 0x00000400</span></div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span> </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span><span class="preprocessor">#define TLB_WORD0_EPN_MASK 0xFFFFFC00</span></div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span><span class="preprocessor">#define TLB_WORD0_EPN_ENCODE(n) (((unsigned long) (n)) &amp; 0xFFFFFC00)</span></div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span><span class="preprocessor">#define TLB_WORD0_EPN_DECODE(n) (((unsigned long) (n)) &amp; 0xFFFFFC00)</span></div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span><span class="preprocessor">#define TLB_WORD0_V_MASK 0x00000200</span></div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span><span class="preprocessor">#define TLB_WORD0_V_ENABLE 0x00000200</span></div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span><span class="preprocessor">#define TLB_WORD0_V_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span><span class="preprocessor">#define TLB_WORD0_TS_MASK 0x00000100</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span><span class="preprocessor">#define TLB_WORD0_TS_1 0x00000100</span></div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span><span class="preprocessor">#define TLB_WORD0_TS_0 0x00000000</span></div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span><span class="preprocessor">#define TLB_WORD0_SIZE_MASK 0x000000F0</span></div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span><span class="preprocessor">#define TLB_WORD0_SIZE_1KB 0x00000000</span></div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span><span class="preprocessor">#define TLB_WORD0_SIZE_4KB 0x00000010</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span><span class="preprocessor">#define TLB_WORD0_SIZE_16KB 0x00000020</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span><span class="preprocessor">#define TLB_WORD0_SIZE_64KB 0x00000030</span></div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span><span class="preprocessor">#define TLB_WORD0_SIZE_256KB 0x00000040</span></div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span><span class="preprocessor">#define TLB_WORD0_SIZE_1MB 0x00000050</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span><span class="preprocessor">#define TLB_WORD0_SIZE_16MB 0x00000070</span></div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span><span class="preprocessor">#define TLB_WORD0_SIZE_256MB 0x00000090</span></div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span><span class="preprocessor">#define TLB_WORD0_TPAR_MASK 0x0000000F</span></div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span><span class="preprocessor">#define TLB_WORD0_TPAR_ENCODE(n) ((((unsigned long) (n)) &amp; 0x0F) &lt;&lt; 0)</span></div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span><span class="preprocessor">#define TLB_WORD0_TPAR_DECODE(n) ((((unsigned long) (n)) &gt;&gt; 0) &amp; 0x0F)</span></div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span> </div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span><span class="preprocessor">#define TLB_WORD1_RPN_MASK 0xFFFFFC00</span></div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span><span class="preprocessor">#define TLB_WORD1_RPN_ENCODE(n) (((unsigned long) (n)) &amp; 0xFFFFFC00)</span></div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span><span class="preprocessor">#define TLB_WORD1_RPN_DECODE(n) (((unsigned long) (n)) &amp; 0xFFFFFC00)</span></div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span><span class="preprocessor">#define TLB_WORD1_PAR1_MASK 0x00000300</span></div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span><span class="preprocessor">#define TLB_WORD1_PAR1_ENCODE(n) ((((unsigned long) (n)) &amp; 0x03) &lt;&lt; 8)</span></div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span><span class="preprocessor">#define TLB_WORD1_PAR1_DECODE(n) ((((unsigned long) (n)) &gt;&gt; 8) &amp; 0x03)</span></div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span><span class="preprocessor">#define TLB_WORD1_PAR1_0 0x00000000</span></div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span><span class="preprocessor">#define TLB_WORD1_PAR1_1 0x00000100</span></div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span><span class="preprocessor">#define TLB_WORD1_PAR1_2 0x00000200</span></div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span><span class="preprocessor">#define TLB_WORD1_PAR1_3 0x00000300</span></div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span><span class="preprocessor">#define TLB_WORD1_ERPN_MASK 0x0000000F</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span><span class="preprocessor">#define TLB_WORD1_ERPN_ENCODE(n) ((((unsigned long) (n)) &amp; 0x0F) &lt;&lt; 0)</span></div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span><span class="preprocessor">#define TLB_WORD1_ERPN_DECODE(n) ((((unsigned long) (n)) &gt;&gt; 0) &amp; 0x0F)</span></div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span> </div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span><span class="preprocessor">#define TLB_WORD2_PAR2_MASK 0xC0000000</span></div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span><span class="preprocessor">#define TLB_WORD2_PAR2_ENCODE(n) ((((unsigned long) (n)) &amp; 0x03) &lt;&lt; 30)</span></div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span><span class="preprocessor">#define TLB_WORD2_PAR2_DECODE(n) ((((unsigned long) (n)) &gt;&gt; 30) &amp; 0x03)</span></div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span><span class="preprocessor">#define TLB_WORD2_PAR2_0 0x00000000</span></div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span><span class="preprocessor">#define TLB_WORD2_PAR2_1 0x40000000</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span><span class="preprocessor">#define TLB_WORD2_PAR2_2 0x80000000</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span><span class="preprocessor">#define TLB_WORD2_PAR2_3 0xC0000000</span></div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span><span class="preprocessor">#define TLB_WORD2_U0_MASK 0x00008000</span></div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span><span class="preprocessor">#define TLB_WORD2_U0_ENABLE 0x00008000</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span><span class="preprocessor">#define TLB_WORD2_U0_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span><span class="preprocessor">#define TLB_WORD2_U1_MASK 0x00004000</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span><span class="preprocessor">#define TLB_WORD2_U1_ENABLE 0x00004000</span></div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span><span class="preprocessor">#define TLB_WORD2_U1_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span><span class="preprocessor">#define TLB_WORD2_U2_MASK 0x00002000</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span><span class="preprocessor">#define TLB_WORD2_U2_ENABLE 0x00002000</span></div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span><span class="preprocessor">#define TLB_WORD2_U2_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span><span class="preprocessor">#define TLB_WORD2_U3_MASK 0x00001000</span></div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span><span class="preprocessor">#define TLB_WORD2_U3_ENABLE 0x00001000</span></div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span><span class="preprocessor">#define TLB_WORD2_U3_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span><span class="preprocessor">#define TLB_WORD2_W_MASK 0x00000800</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span><span class="preprocessor">#define TLB_WORD2_W_ENABLE 0x00000800</span></div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span><span class="preprocessor">#define TLB_WORD2_W_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span><span class="preprocessor">#define TLB_WORD2_I_MASK 0x00000400</span></div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span><span class="preprocessor">#define TLB_WORD2_I_ENABLE 0x00000400</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span><span class="preprocessor">#define TLB_WORD2_I_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span><span class="preprocessor">#define TLB_WORD2_M_MASK 0x00000200</span></div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span><span class="preprocessor">#define TLB_WORD2_M_ENABLE 0x00000200</span></div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span><span class="preprocessor">#define TLB_WORD2_M_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span><span class="preprocessor">#define TLB_WORD2_G_MASK 0x00000100</span></div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span><span class="preprocessor">#define TLB_WORD2_G_ENABLE 0x00000100</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span><span class="preprocessor">#define TLB_WORD2_G_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span><span class="preprocessor">#define TLB_WORD2_E_MASK 0x00000080</span></div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span><span class="preprocessor">#define TLB_WORD2_E_ENABLE 0x00000080</span></div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span><span class="preprocessor">#define TLB_WORD2_E_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span><span class="preprocessor">#define TLB_WORD2_UX_MASK 0x00000020</span></div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span><span class="preprocessor">#define TLB_WORD2_UX_ENABLE 0x00000020</span></div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span><span class="preprocessor">#define TLB_WORD2_UX_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span><span class="preprocessor">#define TLB_WORD2_UW_MASK 0x00000010</span></div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span><span class="preprocessor">#define TLB_WORD2_UW_ENABLE 0x00000010</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span><span class="preprocessor">#define TLB_WORD2_UW_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span><span class="preprocessor">#define TLB_WORD2_UR_MASK 0x00000008</span></div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span><span class="preprocessor">#define TLB_WORD2_UR_ENABLE 0x00000008</span></div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span><span class="preprocessor">#define TLB_WORD2_UR_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span><span class="preprocessor">#define TLB_WORD2_SX_MASK 0x00000004</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span><span class="preprocessor">#define TLB_WORD2_SX_ENABLE 0x00000004</span></div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span><span class="preprocessor">#define TLB_WORD2_SX_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span><span class="preprocessor">#define TLB_WORD2_SW_MASK 0x00000002</span></div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span><span class="preprocessor">#define TLB_WORD2_SW_ENABLE 0x00000002</span></div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span><span class="preprocessor">#define TLB_WORD2_SW_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span><span class="preprocessor">#define TLB_WORD2_SR_MASK 0x00000001</span></div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span><span class="preprocessor">#define TLB_WORD2_SR_ENABLE 0x00000001</span></div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span><span class="preprocessor">#define TLB_WORD2_SR_DISABLE 0x00000000</span></div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span> </div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span><span class="comment">/*----------------------------------------------------------------------------+</span></div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span><span class="comment">| Following instructions are not available in Book E mode of the GNU assembler.</span></div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span><span class="comment">+----------------------------------------------------------------------------*/</span></div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span><span class="preprocessor">#define DCCCI(ra, rb) .long 0x7c000000 | (ra &lt;&lt; 16) | (rb &lt;&lt; 11) | (454 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span> </div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span><span class="preprocessor">#define ICCCI(ra, rb) .long 0x7c000000 | (ra &lt;&lt; 16) | (rb &lt;&lt; 11) | (966 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span> </div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span><span class="preprocessor">#define DCREAD(rt, ra, rb) .long 0x7c000000 | (rt &lt;&lt; 21) | (ra &lt;&lt; 16) | (rb &lt;&lt; 11) | (486 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span><span class="preprocessor">#define ICREAD(ra, rb) .long 0x7c000000 | (ra &lt;&lt; 16) | (rb &lt;&lt; 11) | (998 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span> </div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span><span class="preprocessor">#define TLBSX(rt, ra, rb) .long 0x7c000000 | (rt &lt;&lt; 21) | (ra &lt;&lt; 16) | (rb &lt;&lt; 11) | (914 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span> </div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span><span class="preprocessor">#define TLBWE(rs, ra, ws) .long 0x7c000000 | (rs &lt;&lt; 21) | (ra &lt;&lt; 16) | (ws &lt;&lt; 11) | (978 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span> </div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span><span class="preprocessor">#define TLBRE(rt, ra, ws) .long 0x7c000000 | (rt &lt;&lt; 21) | (ra &lt;&lt; 16) | (ws &lt;&lt; 11) | (946 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span> </div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span><span class="preprocessor">#define TLBSXDOT(rt, ra, rb) .long 0x7c000001 | (rt &lt;&lt; 21) | (ra &lt;&lt; 16) | (rb &lt;&lt; 11) | (914 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span><span class="preprocessor">#define MSYNC .long 0x7c000000 | (598 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span> </div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span><span class="preprocessor">#define MBAR_INST .long 0x7c000000 | (854 &lt;&lt; 1)</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span> </div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span><span class="preprocessor">#ifndef __ASSEMBLY__</span></div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span><span class="comment">/* Prototypes */</span></div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span><span class="keywordtype">void</span>          mttlb1(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> index, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> value);</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span><span class="keywordtype">void</span>          mttlb2(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> index, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> value);</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span><span class="keywordtype">void</span>          mttlb3(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> index, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> value);</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> mftlb1(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> index);</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> mftlb2(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> index);</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> mftlb3(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> index);</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span> </div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span><span class="keywordtype">void</span> program_tlb(<a class="code hl_typedef" href="boot_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a> phys_addr, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> virt_addr, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> size, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> tlb_word2_i_value);</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span><span class="keywordtype">void</span> remove_tlb(<a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> vaddr, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> size);</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span><span class="keywordtype">void</span> change_tlb(<a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> vaddr, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> size, <a class="code hl_typedef" href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a> tlb_word2_i_value);</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span><span class="preprocessor">#endif </span><span class="comment">/* __ASSEMBLY__ */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span> </div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span><span class="preprocessor">#endif </span><span class="comment">/* CONFIG_440 */</span><span class="preprocessor"></span></div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span><span class="preprocessor">#endif </span><span class="comment">/* _PPC_MMU_H_ */</span><span class="preprocessor"></span></div>
<div class="ttc" id="aboot_8h_html"><div class="ttname"><a href="boot_8h.html">boot.h</a></div><div class="ttdoc">NeBoot types, data structures, and standard library.</div></div>
<div class="ttc" id="aboot_8h_html_a324c5d28c0d82f502a234ab99efac87a"><div class="ttname"><a href="boot_8h.html#a324c5d28c0d82f502a234ab99efac87a">uint32_t</a></div><div class="ttdeci">unsigned uint32_t</div><div class="ttdef"><b>Definition</b> boot.h:20</div></div>
<div class="ttc" id="aboot_8h_html_a3635d4f4b91e00d8c63741772cf00d82"><div class="ttname"><a href="boot_8h.html#a3635d4f4b91e00d8c63741772cf00d82">phys_addr_t</a></div><div class="ttdeci">__UINT32_TYPE__ phys_addr_t</div><div class="ttdef"><b>Definition</b> boot.h:15</div></div>
<div class="ttc" id="aboot_8h_html_a95c0f4cc152cbacf72a7d70d7077dc96"><div class="ttname"><a href="boot_8h.html#a95c0f4cc152cbacf72a7d70d7077dc96">ulong_t</a></div><div class="ttdeci">unsigned long ulong_t</div><div class="ttdef"><b>Definition</b> boot.h:17</div></div>
<div class="ttc" id="aboot_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="boot_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition</b> boot.h:22</div></div>
<div class="ttc" id="aboot_8h_html_ad27ed092432b64ff558d2254c278720f"><div class="ttname"><a href="boot_8h.html#ad27ed092432b64ff558d2254c278720f">uint64_t</a></div><div class="ttdeci">unsigned long long int uint64_t</div><div class="ttdef"><b>Definition</b> boot.h:19</div></div>
<div class="ttc" id="ammu_8h_html_a0de067e3ce80dc5cc59ae2349be3c961"><div class="ttname"><a href="mmu_8h.html#a0de067e3ce80dc5cc59ae2349be3c961">MMU_context</a></div><div class="ttdeci">struct _MMU_context MMU_context</div></div>
<div class="ttc" id="ammu_8h_html_a116555f52e4d81be3fd00da2fe096ec0"><div class="ttname"><a href="mmu_8h.html#a116555f52e4d81be3fd00da2fe096ec0">SEGREG</a></div><div class="ttdeci">struct _SEGREG SEGREG</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4">ppc_bat_t</a></div><div class="ttdeci">ppc_bat_t</div><div class="ttdef"><b>Definition</b> mmu.h:144</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4a126d78c3612c773ec091f6e2bb27a4ef"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a126d78c3612c773ec091f6e2bb27a4ef">IBAT2</a></div><div class="ttdeci">@ IBAT2</div><div class="ttdef"><b>Definition</b> mmu.h:147</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4a208ead019e301cf196da2bfa5526b300"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a208ead019e301cf196da2bfa5526b300">IBAT0</a></div><div class="ttdeci">@ IBAT0</div><div class="ttdef"><b>Definition</b> mmu.h:145</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4a24fc3af95d0c22d1c26b5f587bf68572"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a24fc3af95d0c22d1c26b5f587bf68572">DBAT0</a></div><div class="ttdeci">@ DBAT0</div><div class="ttdef"><b>Definition</b> mmu.h:149</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4a52d256a38243a83a492c088744efe0ef"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a52d256a38243a83a492c088744efe0ef">IBAT3</a></div><div class="ttdeci">@ IBAT3</div><div class="ttdef"><b>Definition</b> mmu.h:148</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4a861c0782907c86db292e8f0fc0ff0eb1"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a861c0782907c86db292e8f0fc0ff0eb1">IBAT1</a></div><div class="ttdeci">@ IBAT1</div><div class="ttdef"><b>Definition</b> mmu.h:146</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4a9887715ee5dfb6e917bb656d32a33140"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4a9887715ee5dfb6e917bb656d32a33140">DBAT2</a></div><div class="ttdeci">@ DBAT2</div><div class="ttdef"><b>Definition</b> mmu.h:151</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4ae29ffa5678545357b30271a1e46f4fe6"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4ae29ffa5678545357b30271a1e46f4fe6">DBAT3</a></div><div class="ttdeci">@ DBAT3</div><div class="ttdef"><b>Definition</b> mmu.h:152</div></div>
<div class="ttc" id="ammu_8h_html_a206a4b702b1ff6d439ff318fefac3dc4afd54f7628bf10d5c29dc85fcd0601e5e"><div class="ttname"><a href="mmu_8h.html#a206a4b702b1ff6d439ff318fefac3dc4afd54f7628bf10d5c29dc85fcd0601e5e">DBAT1</a></div><div class="ttdeci">@ DBAT1</div><div class="ttdef"><b>Definition</b> mmu.h:150</div></div>
<div class="ttc" id="ammu_8h_html_a2c19d57bc75e571209ae63ba83d80002"><div class="ttname"><a href="mmu_8h.html#a2c19d57bc75e571209ae63ba83d80002">write_bat</a></div><div class="ttdeci">int write_bat(ppc_bat_t bat, unsigned long upper, unsigned long lower)</div></div>
<div class="ttc" id="ammu_8h_html_a370824a7be0b318fede6265c11de3aa6"><div class="ttname"><a href="mmu_8h.html#a370824a7be0b318fede6265c11de3aa6">BATL</a></div><div class="ttdeci">struct _BATL BATL</div></div>
<div class="ttc" id="ammu_8h_html_a50d4292c7b45eba83434b138209cd4ee"><div class="ttname"><a href="mmu_8h.html#a50d4292c7b45eba83434b138209cd4ee">read_bat</a></div><div class="ttdeci">int read_bat(ppc_bat_t bat, unsigned long *upper, unsigned long *lower)</div></div>
<div class="ttc" id="ammu_8h_html_a6573baacdb4226f6414fae33ae760b8c"><div class="ttname"><a href="mmu_8h.html#a6573baacdb4226f6414fae33ae760b8c">P601_BAT</a></div><div class="ttdeci">struct _P601_BAT P601_BAT</div></div>
<div class="ttc" id="ammu_8h_html_a82e5ec4c4ea43f3e04440a7314c41b6f"><div class="ttname"><a href="mmu_8h.html#a82e5ec4c4ea43f3e04440a7314c41b6f">PTE</a></div><div class="ttdeci">struct _PTE PTE</div></div>
<div class="ttc" id="ammu_8h_html_a8d2c399df6520b40404dec59e1c434fd"><div class="ttname"><a href="mmu_8h.html#a8d2c399df6520b40404dec59e1c434fd">_tlbie</a></div><div class="ttdeci">void _tlbie(unsigned long va)</div></div>
<div class="ttc" id="ammu_8h_html_a9821fe813eb4e9fa5d5ac4814001d3d0"><div class="ttname"><a href="mmu_8h.html#a9821fe813eb4e9fa5d5ac4814001d3d0">_tlbia</a></div><div class="ttdeci">void _tlbia(void)</div></div>
<div class="ttc" id="ammu_8h_html_aa5aff0bb66a6f7316a788eb9fa4f2065"><div class="ttname"><a href="mmu_8h.html#aa5aff0bb66a6f7316a788eb9fa4f2065">print_bats</a></div><div class="ttdeci">void print_bats(void)</div></div>
<div class="ttc" id="ammu_8h_html_aaca6a4838b1c06401fe3bafb8f7beeba"><div class="ttname"><a href="mmu_8h.html#aaca6a4838b1c06401fe3bafb8f7beeba">P601_BATU</a></div><div class="ttdeci">struct _P601_BATU P601_BATU</div></div>
<div class="ttc" id="ammu_8h_html_ab5d3227de2751abebfa95a87ecbf3de9"><div class="ttname"><a href="mmu_8h.html#ab5d3227de2751abebfa95a87ecbf3de9">P601_BATL</a></div><div class="ttdeci">struct _P601_BATL P601_BATL</div></div>
<div class="ttc" id="ammu_8h_html_ace8b394da4e7b4c937f2c894669ce8dc"><div class="ttname"><a href="mmu_8h.html#ace8b394da4e7b4c937f2c894669ce8dc">BATU</a></div><div class="ttdeci">struct _BATU BATU</div></div>
<div class="ttc" id="ammu_8h_html_aeb6f3c40f9cd71f4ceb82022b952c63b"><div class="ttname"><a href="mmu_8h.html#aeb6f3c40f9cd71f4ceb82022b952c63b">BAT</a></div><div class="ttdeci">struct _BAT BAT</div></div>
<div class="ttc" id="ammu_8h_html_aefce2afd8dd9de05b0e8afb9049cb693"><div class="ttname"><a href="mmu_8h.html#aefce2afd8dd9de05b0e8afb9049cb693">pte</a></div><div class="ttdeci">struct _pte pte</div></div>
<div class="ttc" id="astruct___b_a_t_html"><div class="ttname"><a href="struct___b_a_t.html">_BAT</a></div><div class="ttdef"><b>Definition</b> mmu.h:100</div></div>
<div class="ttc" id="astruct___b_a_t_html_a5d14a9e20e50285c8a5035234102d168"><div class="ttname"><a href="struct___b_a_t.html#a5d14a9e20e50285c8a5035234102d168">_BAT::batu</a></div><div class="ttdeci">BATU batu</div><div class="ttdef"><b>Definition</b> mmu.h:101</div></div>
<div class="ttc" id="astruct___b_a_t_html_abb52d5a574e9699f5ce6c98ac31840d6"><div class="ttname"><a href="struct___b_a_t.html#abb52d5a574e9699f5ce6c98ac31840d6">_BAT::batl</a></div><div class="ttdeci">BATL batl</div><div class="ttdef"><b>Definition</b> mmu.h:102</div></div>
<div class="ttc" id="astruct___b_a_t_l_html"><div class="ttname"><a href="struct___b_a_t_l.html">_BATL</a></div><div class="ttdef"><b>Definition</b> mmu.h:85</div></div>
<div class="ttc" id="astruct___b_a_t_l_html_a1192df46d382216b75b74282150e0dc5"><div class="ttname"><a href="struct___b_a_t_l.html#a1192df46d382216b75b74282150e0dc5">_BATL::m</a></div><div class="ttdeci">unsigned long m</div><div class="ttdef"><b>Definition</b> mmu.h:94</div></div>
<div class="ttc" id="astruct___b_a_t_l_html_a4d0f05c3aabcb19e6a71a05f08f8f530"><div class="ttname"><a href="struct___b_a_t_l.html#a4d0f05c3aabcb19e6a71a05f08f8f530">_BATL::long</a></div><div class="ttdeci">unsigned long</div><div class="ttdef"><b>Definition</b> mmu.h:91</div></div>
<div class="ttc" id="astruct___b_a_t_l_html_a79347c20a16314a0b26017ee743065b8"><div class="ttname"><a href="struct___b_a_t_l.html#a79347c20a16314a0b26017ee743065b8">_BATL::w</a></div><div class="ttdeci">unsigned long w</div><div class="ttdef"><b>Definition</b> mmu.h:92</div></div>
<div class="ttc" id="astruct___b_a_t_l_html_a82aeea8cd628c25714fe872c7d70c26f"><div class="ttname"><a href="struct___b_a_t_l.html#a82aeea8cd628c25714fe872c7d70c26f">_BATL::g</a></div><div class="ttdeci">unsigned long g</div><div class="ttdef"><b>Definition</b> mmu.h:95</div></div>
<div class="ttc" id="astruct___b_a_t_l_html_a8fa3ddfe20e8221531c2aa6baae2d46f"><div class="ttname"><a href="struct___b_a_t_l.html#a8fa3ddfe20e8221531c2aa6baae2d46f">_BATL::brpn</a></div><div class="ttdeci">unsigned long brpn</div><div class="ttdef"><b>Definition</b> mmu.h:89</div></div>
<div class="ttc" id="astruct___b_a_t_l_html_aa10551686c19767e474cd713448a21b8"><div class="ttname"><a href="struct___b_a_t_l.html#aa10551686c19767e474cd713448a21b8">_BATL::i</a></div><div class="ttdeci">unsigned long i</div><div class="ttdef"><b>Definition</b> mmu.h:93</div></div>
<div class="ttc" id="astruct___b_a_t_l_html_aec7463084e8082aa661668c404f21c39"><div class="ttname"><a href="struct___b_a_t_l.html#aec7463084e8082aa661668c404f21c39">_BATL::pp</a></div><div class="ttdeci">unsigned long pp</div><div class="ttdef"><b>Definition</b> mmu.h:97</div></div>
<div class="ttc" id="astruct___b_a_t_u_html"><div class="ttname"><a href="struct___b_a_t_u.html">_BATU</a></div><div class="ttdef"><b>Definition</b> mmu.h:66</div></div>
<div class="ttc" id="astruct___b_a_t_u_html_a077e3c5c1eccdadda621a28207df7a47"><div class="ttname"><a href="struct___b_a_t_u.html#a077e3c5c1eccdadda621a28207df7a47">_BATU::bl</a></div><div class="ttdeci">unsigned long bl</div><div class="ttdef"><b>Definition</b> mmu.h:73</div></div>
<div class="ttc" id="astruct___b_a_t_u_html_a12491b3e4a1753fb934b7aa8f31ffd5d"><div class="ttname"><a href="struct___b_a_t_u.html#a12491b3e4a1753fb934b7aa8f31ffd5d">_BATU::vs</a></div><div class="ttdeci">unsigned long vs</div><div class="ttdef"><b>Definition</b> mmu.h:74</div></div>
<div class="ttc" id="astruct___b_a_t_u_html_a93c0de319fc1f2a42730a7c8beddcaab"><div class="ttname"><a href="struct___b_a_t_u.html#a93c0de319fc1f2a42730a7c8beddcaab">_BATU::bepi</a></div><div class="ttdeci">unsigned long bepi</div><div class="ttdef"><b>Definition</b> mmu.h:70</div></div>
<div class="ttc" id="astruct___b_a_t_u_html_a9dd45ef522b304e41953b493aa50db32"><div class="ttname"><a href="struct___b_a_t_u.html#a9dd45ef522b304e41953b493aa50db32">_BATU::long</a></div><div class="ttdeci">unsigned long</div><div class="ttdef"><b>Definition</b> mmu.h:72</div></div>
<div class="ttc" id="astruct___b_a_t_u_html_aabdbfb50851d6e9bfc15e1594a9c3bd1"><div class="ttname"><a href="struct___b_a_t_u.html#aabdbfb50851d6e9bfc15e1594a9c3bd1">_BATU::vp</a></div><div class="ttdeci">unsigned long vp</div><div class="ttdef"><b>Definition</b> mmu.h:75</div></div>
<div class="ttc" id="astruct___m_m_u__context_html"><div class="ttname"><a href="struct___m_m_u__context.html">_MMU_context</a></div><div class="ttdef"><b>Definition</b> mmu.h:132</div></div>
<div class="ttc" id="astruct___m_m_u__context_html_a62546f43acf750940f4ebcbbfb73193d"><div class="ttname"><a href="struct___m_m_u__context.html#a62546f43acf750940f4ebcbbfb73193d">_MMU_context::segs</a></div><div class="ttdeci">SEGREG segs[16]</div><div class="ttdef"><b>Definition</b> mmu.h:133</div></div>
<div class="ttc" id="astruct___m_m_u__context_html_acd47c8d772a3117d4b212b8c72e296fd"><div class="ttname"><a href="struct___m_m_u__context.html#acd47c8d772a3117d4b212b8c72e296fd">_MMU_context::pmap</a></div><div class="ttdeci">pte ** pmap</div><div class="ttdef"><b>Definition</b> mmu.h:134</div></div>
<div class="ttc" id="astruct___p601___b_a_t_html"><div class="ttname"><a href="struct___p601___b_a_t.html">_P601_BAT</a></div><div class="ttdef"><b>Definition</b> mmu.h:105</div></div>
<div class="ttc" id="astruct___p601___b_a_t_html_a726250cae267e58c63237528090189cf"><div class="ttname"><a href="struct___p601___b_a_t.html#a726250cae267e58c63237528090189cf">_P601_BAT::batu</a></div><div class="ttdeci">P601_BATU batu</div><div class="ttdef"><b>Definition</b> mmu.h:106</div></div>
<div class="ttc" id="astruct___p601___b_a_t_html_ad3ee49d81b0e5fdbc46db25208c23e95"><div class="ttname"><a href="struct___p601___b_a_t.html#ad3ee49d81b0e5fdbc46db25208c23e95">_P601_BAT::batl</a></div><div class="ttdeci">P601_BATL batl</div><div class="ttdef"><b>Definition</b> mmu.h:107</div></div>
<div class="ttc" id="astruct___p601___b_a_t_l_html"><div class="ttname"><a href="struct___p601___b_a_t_l.html">_P601_BATL</a></div><div class="ttdef"><b>Definition</b> mmu.h:78</div></div>
<div class="ttc" id="astruct___p601___b_a_t_l_html_a4c6536bd665aaafc4c9741b6e0c21b53"><div class="ttname"><a href="struct___p601___b_a_t_l.html#a4c6536bd665aaafc4c9741b6e0c21b53">_P601_BATL::brpn</a></div><div class="ttdeci">unsigned long brpn</div><div class="ttdef"><b>Definition</b> mmu.h:79</div></div>
<div class="ttc" id="astruct___p601___b_a_t_l_html_a7fe23730d249003078893784db56ea22"><div class="ttname"><a href="struct___p601___b_a_t_l.html#a7fe23730d249003078893784db56ea22">_P601_BATL::bl</a></div><div class="ttdeci">unsigned long bl</div><div class="ttdef"><b>Definition</b> mmu.h:82</div></div>
<div class="ttc" id="astruct___p601___b_a_t_l_html_adc57a004105b487b834a2a741a0a414b"><div class="ttname"><a href="struct___p601___b_a_t_l.html#adc57a004105b487b834a2a741a0a414b">_P601_BATL::long</a></div><div class="ttdeci">unsigned long</div><div class="ttdef"><b>Definition</b> mmu.h:80</div></div>
<div class="ttc" id="astruct___p601___b_a_t_l_html_aecbbd2291f962293926cb52a237ad8e4"><div class="ttname"><a href="struct___p601___b_a_t_l.html#aecbbd2291f962293926cb52a237ad8e4">_P601_BATL::v</a></div><div class="ttdeci">unsigned long v</div><div class="ttdef"><b>Definition</b> mmu.h:81</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html"><div class="ttname"><a href="struct___p601___b_a_t_u.html">_P601_BATU</a></div><div class="ttdef"><b>Definition</b> mmu.h:55</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html_a26ecbd83579c05631f96bbb6895c6731"><div class="ttname"><a href="struct___p601___b_a_t_u.html#a26ecbd83579c05631f96bbb6895c6731">_P601_BATU::pp</a></div><div class="ttdeci">unsigned long pp</div><div class="ttdef"><b>Definition</b> mmu.h:63</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html_a403ff031f747db60ee6841fe6bc21b10"><div class="ttname"><a href="struct___p601___b_a_t_u.html#a403ff031f747db60ee6841fe6bc21b10">_P601_BATU::kp</a></div><div class="ttdeci">unsigned long kp</div><div class="ttdef"><b>Definition</b> mmu.h:62</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html_a73bd4e159fbfd37d7fc3bcde4db832f0"><div class="ttname"><a href="struct___p601___b_a_t_u.html#a73bd4e159fbfd37d7fc3bcde4db832f0">_P601_BATU::m</a></div><div class="ttdeci">unsigned long m</div><div class="ttdef"><b>Definition</b> mmu.h:60</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html_a7f5baa7dd0d2d1de025685764c11f10f"><div class="ttname"><a href="struct___p601___b_a_t_u.html#a7f5baa7dd0d2d1de025685764c11f10f">_P601_BATU::ks</a></div><div class="ttdeci">unsigned long ks</div><div class="ttdef"><b>Definition</b> mmu.h:61</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html_a92d7e81675209dc78842cf4d0de82f9e"><div class="ttname"><a href="struct___p601___b_a_t_u.html#a92d7e81675209dc78842cf4d0de82f9e">_P601_BATU::i</a></div><div class="ttdeci">unsigned long i</div><div class="ttdef"><b>Definition</b> mmu.h:59</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html_a9e82d335ff0cb8282e02a50733e75305"><div class="ttname"><a href="struct___p601___b_a_t_u.html#a9e82d335ff0cb8282e02a50733e75305">_P601_BATU::w</a></div><div class="ttdeci">unsigned long w</div><div class="ttdef"><b>Definition</b> mmu.h:58</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html_aac5bdeda7ded5b7c6801ab2f59b23a68"><div class="ttname"><a href="struct___p601___b_a_t_u.html#aac5bdeda7ded5b7c6801ab2f59b23a68">_P601_BATU::long</a></div><div class="ttdeci">unsigned long</div><div class="ttdef"><b>Definition</b> mmu.h:57</div></div>
<div class="ttc" id="astruct___p601___b_a_t_u_html_ae25a7853e6eff2f19e520eaea3aaf848"><div class="ttname"><a href="struct___p601___b_a_t_u.html#ae25a7853e6eff2f19e520eaea3aaf848">_P601_BATU::bepi</a></div><div class="ttdeci">unsigned long bepi</div><div class="ttdef"><b>Definition</b> mmu.h:56</div></div>
<div class="ttc" id="astruct___p_t_e_html"><div class="ttname"><a href="struct___p_t_e.html">_PTE</a></div><div class="ttdef"><b>Definition</b> mmu.h:12</div></div>
<div class="ttc" id="astruct___p_t_e_html_a1af864ad9c7d66af85899ac195d205fe"><div class="ttname"><a href="struct___p_t_e.html#a1af864ad9c7d66af85899ac195d205fe">_PTE::rpn</a></div><div class="ttdeci">unsigned long rpn</div><div class="ttdef"><b>Definition</b> mmu.h:25</div></div>
<div class="ttc" id="astruct___p_t_e_html_a486a1585582d4f89a1af06b04c9b240a"><div class="ttname"><a href="struct___p_t_e.html#a486a1585582d4f89a1af06b04c9b240a">_PTE::g</a></div><div class="ttdeci">unsigned long g</div><div class="ttdef"><b>Definition</b> mmu.h:33</div></div>
<div class="ttc" id="astruct___p_t_e_html_a54dab297f94f19da3d6ab3098789e445"><div class="ttname"><a href="struct___p_t_e.html#a54dab297f94f19da3d6ab3098789e445">_PTE::pp</a></div><div class="ttdeci">unsigned long pp</div><div class="ttdef"><b>Definition</b> mmu.h:35</div></div>
<div class="ttc" id="astruct___p_t_e_html_a70ad49ce44082989ff1f60711ac51748"><div class="ttname"><a href="struct___p_t_e.html#a70ad49ce44082989ff1f60711ac51748">_PTE::v</a></div><div class="ttdeci">unsigned long v</div><div class="ttdef"><b>Definition</b> mmu.h:21</div></div>
<div class="ttc" id="astruct___p_t_e_html_a800a5674fa52faa6212ea2036db3b273"><div class="ttname"><a href="struct___p_t_e.html#a800a5674fa52faa6212ea2036db3b273">_PTE::w</a></div><div class="ttdeci">unsigned long w</div><div class="ttdef"><b>Definition</b> mmu.h:30</div></div>
<div class="ttc" id="astruct___p_t_e_html_a8372f14e7e33b411216048b5236528a8"><div class="ttname"><a href="struct___p_t_e.html#a8372f14e7e33b411216048b5236528a8">_PTE::long</a></div><div class="ttdeci">unsigned long</div><div class="ttdef"><b>Definition</b> mmu.h:27</div></div>
<div class="ttc" id="astruct___p_t_e_html_a879a5ebfc7fc5fd881fb7c9452f01c7d"><div class="ttname"><a href="struct___p_t_e.html#a879a5ebfc7fc5fd881fb7c9452f01c7d">_PTE::c</a></div><div class="ttdeci">unsigned long c</div><div class="ttdef"><b>Definition</b> mmu.h:29</div></div>
<div class="ttc" id="astruct___p_t_e_html_a904024784e0847ef42a912ab118cf076"><div class="ttname"><a href="struct___p_t_e.html#a904024784e0847ef42a912ab118cf076">_PTE::h</a></div><div class="ttdeci">unsigned long h</div><div class="ttdef"><b>Definition</b> mmu.h:23</div></div>
<div class="ttc" id="astruct___p_t_e_html_ab05728d02334349ec34102603190da11"><div class="ttname"><a href="struct___p_t_e.html#ab05728d02334349ec34102603190da11">_PTE::r</a></div><div class="ttdeci">unsigned long r</div><div class="ttdef"><b>Definition</b> mmu.h:28</div></div>
<div class="ttc" id="astruct___p_t_e_html_ac9c646f44d5a310f3ac6ddd9509c4a63"><div class="ttname"><a href="struct___p_t_e.html#ac9c646f44d5a310f3ac6ddd9509c4a63">_PTE::vsid</a></div><div class="ttdeci">unsigned long vsid</div><div class="ttdef"><b>Definition</b> mmu.h:22</div></div>
<div class="ttc" id="astruct___p_t_e_html_ae6d38f07c7c6c13ed717beaf870cd77c"><div class="ttname"><a href="struct___p_t_e.html#ae6d38f07c7c6c13ed717beaf870cd77c">_PTE::m</a></div><div class="ttdeci">unsigned long m</div><div class="ttdef"><b>Definition</b> mmu.h:32</div></div>
<div class="ttc" id="astruct___p_t_e_html_aee3b9bae06298d3ed3a8cfe25d4ec48c"><div class="ttname"><a href="struct___p_t_e.html#aee3b9bae06298d3ed3a8cfe25d4ec48c">_PTE::i</a></div><div class="ttdeci">unsigned long i</div><div class="ttdef"><b>Definition</b> mmu.h:31</div></div>
<div class="ttc" id="astruct___p_t_e_html_af555329e27c18bd6774c843ef9d77883"><div class="ttname"><a href="struct___p_t_e.html#af555329e27c18bd6774c843ef9d77883">_PTE::api</a></div><div class="ttdeci">unsigned long api</div><div class="ttdef"><b>Definition</b> mmu.h:24</div></div>
<div class="ttc" id="astruct___s_e_g_r_e_g_html"><div class="ttname"><a href="struct___s_e_g_r_e_g.html">_SEGREG</a></div><div class="ttdef"><b>Definition</b> mmu.h:45</div></div>
<div class="ttc" id="astruct___s_e_g_r_e_g_html_a4ea72a324daa5d798e94101c48b8b28d"><div class="ttname"><a href="struct___s_e_g_r_e_g.html#a4ea72a324daa5d798e94101c48b8b28d">_SEGREG::long</a></div><div class="ttdeci">unsigned long</div><div class="ttdef"><b>Definition</b> mmu.h:50</div></div>
<div class="ttc" id="astruct___s_e_g_r_e_g_html_ab047bf45a598e585d6d18627f459c4ec"><div class="ttname"><a href="struct___s_e_g_r_e_g.html#ab047bf45a598e585d6d18627f459c4ec">_SEGREG::vsid</a></div><div class="ttdeci">unsigned long vsid</div><div class="ttdef"><b>Definition</b> mmu.h:51</div></div>
<div class="ttc" id="astruct___s_e_g_r_e_g_html_ab42781af2c4994d3e717479d656a8ba2"><div class="ttname"><a href="struct___s_e_g_r_e_g.html#ab42781af2c4994d3e717479d656a8ba2">_SEGREG::n</a></div><div class="ttdeci">unsigned long n</div><div class="ttdef"><b>Definition</b> mmu.h:49</div></div>
<div class="ttc" id="astruct___s_e_g_r_e_g_html_ad6435dc370b4b44eb928ed8c3e7fe0bd"><div class="ttname"><a href="struct___s_e_g_r_e_g.html#ad6435dc370b4b44eb928ed8c3e7fe0bd">_SEGREG::ks</a></div><div class="ttdeci">unsigned long ks</div><div class="ttdef"><b>Definition</b> mmu.h:47</div></div>
<div class="ttc" id="astruct___s_e_g_r_e_g_html_af1d5b204c96ea0f97143ddf626c26917"><div class="ttname"><a href="struct___s_e_g_r_e_g.html#af1d5b204c96ea0f97143ddf626c26917">_SEGREG::kp</a></div><div class="ttdeci">unsigned long kp</div><div class="ttdef"><b>Definition</b> mmu.h:48</div></div>
<div class="ttc" id="astruct___s_e_g_r_e_g_html_af734ef8fb81ae34947a6b2a55e86c396"><div class="ttname"><a href="struct___s_e_g_r_e_g.html#af734ef8fb81ae34947a6b2a55e86c396">_SEGREG::t</a></div><div class="ttdeci">unsigned long t</div><div class="ttdef"><b>Definition</b> mmu.h:46</div></div>
<div class="ttc" id="astruct__pte_html"><div class="ttname"><a href="struct__pte.html">_pte</a></div><div class="ttdef"><b>Definition</b> mmu.h:119</div></div>
<div class="ttc" id="astruct__pte_html_a1a745d02ceae171948dad13717eaa87f"><div class="ttname"><a href="struct__pte.html#a1a745d02ceae171948dad13717eaa87f">_pte::flags</a></div><div class="ttdeci">unsigned long flags</div><div class="ttdef"><b>Definition</b> mmu.h:121</div></div>
<div class="ttc" id="astruct__pte_html_aea639ba732aeb8f28989d1c9f716824e"><div class="ttname"><a href="struct__pte.html#aea639ba732aeb8f28989d1c9f716824e">_pte::page_num</a></div><div class="ttdeci">unsigned long page_num</div><div class="ttdef"><b>Definition</b> mmu.h:120</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_5458e6b0a4b1509348b26b987fe836f2.html">ppc64</a></li><li class="navelem"><a class="el" href="mmu_8h.html">mmu.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
